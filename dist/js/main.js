(()=>{var A,c,e,s={31091:(e,t,s)=>{s.p},49544:(e,t,s)=>{s.p},63166:(e,t,s)=>{s.p},4391:(e,t,s)=>{s.p},57088:(e,t,s)=>{s.p},98781:(e,t,s)=>{s.d(t,{A:()=>r});var p=s(83839),c=(s(60821),s(41949)),m=s(95669);function o(s){let i,n,o,a,r,t,l,A,c,h=s[4].default,d=(0,p.Of3)(h,s,s[3],null),g=[{class:"modal container"},s[2]],u={};for(let e=0;e<g.length;e+=1)u=(0,p.kpz)(u,g[e]);return{c(){i=(0,p.ND4)("div"),n=(0,p.ND4)("div"),o=(0,p.xem)(),a=(0,p.ND4)("div"),r=(0,p.ND4)("div"),d&&d.c(),(0,p.CFu)(n,"class","background s-uvd3by"),(0,p.CFu)(r,"class","content s-uvd3by"),(0,p.vhI)(a,u),(0,p.goL)(a,"s-uvd3by",!0)},m(e,t){(0,p.Yry)(e,i,t),(0,p.BCw)(i,n),(0,p.BCw)(i,o),(0,p.BCw)(i,a),(0,p.BCw)(a,r),d&&d.m(r,null),l=!0,A||(c=(0,p.KTR)(n,"click",s[5]),A=!0)},p(e,t){d&&d.p&&(!l||8&t)&&(0,p.nkG)(d,h,e,e[3],l?(0,p.sWk)(h,e[3],t,null):(0,p.i32)(e[3]),null),(0,p.vhI)(a,u=(0,p.HN9)(g,[{class:"modal container"},4&t&&e[2]])),(0,p.goL)(a,"s-uvd3by",!0)},i(e){l||((0,p.c7F)(d,e),e&&(0,p.Dti)(()=>{l&&(t=t||(0,p.h86)(i,m.Rv,{duration:200},!0)).run(1)}),l=!0)},o(e){(0,p.Tn8)(d,e),e&&(t=t||(0,p.h86)(i,m.Rv,{duration:200},!1)).run(0),l=!1},d(e){e&&(0,p.YoD)(i),d&&d.d(e),e&&t&&t.end(),A=!1,c()}}}function i(e){let s,i,n=e[0]&&o(e);return{c(){n&&n.c(),s=(0,p.Iex)()},m(e,t){n&&n.m(e,t),(0,p.Yry)(e,s,t),i=!0},p(e,[t]){e[0]?n?(n.p(e,t),1&t&&(0,p.c7F)(n,1)):((n=o(e)).c(),(0,p.c7F)(n,1),n.m(s.parentNode,s)):n&&((0,p.V44)(),(0,p.Tn8)(n,1,1,()=>{n=null}),(0,p.GYV)())},i(e){i||((0,p.c7F)(n),i=!0)},o(e){(0,p.Tn8)(n),i=!1},d(e){e&&(0,p.YoD)(s),n&&n.d(e)}}}function n(e,t,s){let i=["show"],n=(0,p.URP)(t,i),{$$slots:o={},$$scope:a}=t,r=(0,c.ur)(),{show:l=!1}=t,A=e=>{s(0,l=e),r("visibility",e)};return e.$$set=e=>{t=(0,p.kpz)((0,p.kpz)({},t),(0,p.Qe9)(e)),s(2,n=(0,p.URP)(t,i)),"show"in e&&s(0,l=e.show),"$$scope"in e&&s(3,a=e.$$scope)},[l,A,n,a,o,()=>A(!1)]}class a extends p.r7T{constructor(e){super(),(0,p.TsN)(this,e,n,i,p.jXN,{show:0})}}let r=a},6716:(e,t,s)=>{s.d(t,{A:()=>l});var w=s(83839),I=(s(60821),s(98837)),f=s(79305),v=s(92008),y=s(87399),B=s(14389),o=s(21068),c=s(95669),a=(s(4391),s(14098));function S(s){let i,n,o,a,t,r,l,A;return{c(){i=(0,w.ND4)("div"),n=(0,w.ND4)("button"),o=(0,w.ND4)("i"),(0,w.CFu)(o,"class","fal fa-times"),(0,w.CFu)(n,"class","exit-button s-hlybem"),n.disabled=a=!s[0],(0,w.CFu)(i,"class","overlay")},m(e,t){(0,w.Yry)(e,i,t),(0,w.BCw)(i,n),(0,w.BCw)(n,o),r=!0,l||(A=(0,w.KTR)(n,"click",s[2]),l=!0)},p(e,t){(!r||1&t&&a!==(a=!e[0]))&&(n.disabled=a)},i(e){r||(e&&(0,w.Dti)(()=>{r&&(t=t||(0,w.h86)(i,c.Rv,{duration:200},!0)).run(1)}),r=!0)},o(e){e&&(t=t||(0,w.h86)(i,c.Rv,{duration:200},!1)).run(0),r=!1},d(e){e&&(0,w.YoD)(i),e&&t&&t.end(),l=!1,A()}}}function i(e){let s,i,n,o,a,r,l,A,c,h,d,g,u,p,m,C=(n=new I.A({}),a=new f.A({}),l=new v.A({}),c=new B.A({}),e[1]&&S(e));return g=new y.A({}),{c(){s=(0,w.ND4)("div"),i=(0,w.ND4)("div"),(0,w.N0i)(n.$$.fragment),o=(0,w.xem)(),(0,w.N0i)(a.$$.fragment),r=(0,w.xem)(),(0,w.N0i)(l.$$.fragment),A=(0,w.xem)(),(0,w.N0i)(c.$$.fragment),h=(0,w.xem)(),C&&C.c(),d=(0,w.xem)(),(0,w.N0i)(g.$$.fragment),u=(0,w.xem)(),p=(0,w.ND4)("div"),(0,w.CFu)(i,"class","hud"),(0,w.CFu)(p,"class","captcha-container center"),(0,w.CFu)(s,"class","app")},m(e,t){(0,w.Yry)(e,s,t),(0,w.BCw)(s,i),(0,w.wSR)(n,i,null),(0,w.BCw)(i,o),(0,w.wSR)(a,i,null),(0,w.BCw)(i,r),(0,w.wSR)(l,i,null),(0,w.BCw)(s,A),(0,w.wSR)(c,s,null),(0,w.BCw)(s,h),C&&C.m(s,null),(0,w.BCw)(s,d),(0,w.wSR)(g,s,null),(0,w.BCw)(s,u),(0,w.BCw)(s,p),m=!0},p(e,[t]){e[1]?C?(C.p(e,t),2&t&&(0,w.c7F)(C,1)):((C=S(e)).c(),(0,w.c7F)(C,1),C.m(s,d)):C&&((0,w.V44)(),(0,w.Tn8)(C,1,1,()=>{C=null}),(0,w.GYV)())},i(e){m||((0,w.c7F)(n.$$.fragment,e),(0,w.c7F)(a.$$.fragment,e),(0,w.c7F)(l.$$.fragment,e),(0,w.c7F)(c.$$.fragment,e),(0,w.c7F)(C),(0,w.c7F)(g.$$.fragment,e),m=!0)},o(e){(0,w.Tn8)(n.$$.fragment,e),(0,w.Tn8)(a.$$.fragment,e),(0,w.Tn8)(l.$$.fragment,e),(0,w.Tn8)(c.$$.fragment,e),(0,w.Tn8)(C),(0,w.Tn8)(g.$$.fragment,e),m=!1},d(e){e&&(0,w.YoD)(s),(0,w.Hbl)(n),(0,w.Hbl)(a),(0,w.Hbl)(l),(0,w.Hbl)(c),C&&C.d(),(0,w.Hbl)(g)}}}function n(e,t,s){let i;(0,w.j0C)(e,o.z,e=>s(1,i=e)),a.A.on("menu-visibility",e=>{(0,w.vu6)(o.z,i=e,i)});let n;a.A.on("started",()=>s(0,n=!0)),a.A.on("stopped",()=>s(0,n=!1));return[n,i,()=>{n&&(a.A.connections.forEach(e=>e.close()),a.A.stop())}]}class r extends w.r7T{constructor(e){super(),(0,w.TsN)(this,e,n,i,w.jXN,{})}}let l=r},14389:(e,t,s)=>{s.d(t,{A:()=>A});var v=s(83839),y=(s(60821),s(14098)),a=s(24239),B=s(52875),r=s(83439),S=s(95669);function n(s){let i,n,o=s[1].name+"",a,r,l,A,c=s[1].nameShown?"Hide":"Show",h,d,g,u,p,t,m,C,w,I=!y.A.alive&&function(s){let i,n,o;return{c(){(i=(0,v.ND4)("button")).textContent="Spectate",(0,v.CFu)(i,"class","button s-c052ub")},m(e,t){(0,v.Yry)(e,i,t),n||(o=(0,v.KTR)(i,"click",s[2]),n=!0)},p:v.lQ1,d(e){e&&(0,v.YoD)(i),n=!1,o()}}}(s),f=s[1]instanceof B.A&&b(s);return{c(){i=(0,v.ND4)("div"),n=(0,v.ND4)("span"),a=(0,v.Qq7)(o),r=(0,v.xem)(),I&&I.c(),l=(0,v.xem)(),A=(0,v.ND4)("button"),h=(0,v.Qq7)(c),d=(0,v.Qq7)(" Name"),g=(0,v.xem)(),(u=(0,v.ND4)("button")).textContent="Copy Name",p=(0,v.xem)(),f&&f.c(),(0,v.CFu)(n,"class","player-name s-c052ub"),(0,v.CFu)(A,"class","button s-c052ub"),(0,v.CFu)(u,"class","button s-c052ub"),(0,v.hgi)(i,"top",s[0].y+"px"),(0,v.hgi)(i,"left",s[0].x+"px"),(0,v.CFu)(i,"class","context-menu s-c052ub")},m(e,t){(0,v.Yry)(e,i,t),(0,v.BCw)(i,n),(0,v.BCw)(n,a),(0,v.BCw)(i,r),I&&I.m(i,null),(0,v.BCw)(i,l),(0,v.BCw)(i,A),(0,v.BCw)(A,h),(0,v.BCw)(A,d),(0,v.BCw)(i,g),(0,v.BCw)(i,u),(0,v.BCw)(i,p),f&&f.m(i,null),m=!0,C||(w=[(0,v.KTR)(A,"click",s[3]),(0,v.KTR)(u,"click",s[5])],C=!0)},p(e,t){(!m||2&t)&&o!==(o=e[1].name+"")&&(0,v.iQh)(a,o),y.A.alive||I.p(e,t),(!m||2&t)&&c!==(c=e[1].nameShown?"Hide":"Show")&&(0,v.iQh)(h,c),e[1]instanceof B.A?f?f.p(e,t):((f=b(e)).c(),f.m(i,null)):f&&(f.d(1),f=null),(!m||1&t)&&(0,v.hgi)(i,"top",e[0].y+"px"),(!m||1&t)&&(0,v.hgi)(i,"left",e[0].x+"px")},i(e){m||(e&&(0,v.Dti)(()=>{m&&(t=t||(0,v.h86)(i,S.Rv,{duration:200},!0)).run(1)}),m=!0)},o(e){e&&(t=t||(0,v.h86)(i,S.Rv,{duration:200},!1)).run(0),m=!1},d(e){e&&(0,v.YoD)(i),I&&I.d(),f&&f.d(),e&&t&&t.end(),(C=!1,v.oOW)(w)}}}function b(s){let i,n=s[1].skinShown?"Hide":"Show",o,a,r,l,A,c;return{c(){i=(0,v.ND4)("button"),o=(0,v.Qq7)(n),a=(0,v.Qq7)(" Skin"),r=(0,v.xem)(),(l=(0,v.ND4)("button")).textContent="Copy Skin",(0,v.CFu)(i,"class","button s-c052ub"),(0,v.CFu)(l,"class","button s-c052ub")},m(e,t){(0,v.Yry)(e,i,t),(0,v.BCw)(i,o),(0,v.BCw)(i,a),(0,v.Yry)(e,r,t),(0,v.Yry)(e,l,t),A||(c=[(0,v.KTR)(i,"click",s[4]),(0,v.KTR)(l,"click",s[6])],A=!0)},p(e,t){2&t&&n!==(n=e[1].skinShown?"Hide":"Show")&&(0,v.iQh)(o,n)},d(e){e&&((0,v.YoD)(i),(0,v.YoD)(r),(0,v.YoD)(l)),(A=!1,v.oOW)(c)}}}function i(e){let s,i=null!=e[0]&&null!=e[1]&&n(e);return{c(){i&&i.c(),s=(0,v.Iex)()},m(e,t){i&&i.m(e,t),(0,v.Yry)(e,s,t)},p(e,[t]){null!=e[0]&&null!=e[1]?i?(i.p(e,t),3&t&&(0,v.c7F)(i,1)):((i=n(e)).c(),(0,v.c7F)(i,1),i.m(s.parentNode,s)):i&&((0,v.V44)(),(0,v.Tn8)(i,1,1,()=>{i=null}),(0,v.GYV)())},i(e){(0,v.c7F)(i)},o(e){(0,v.Tn8)(i)},d(e){e&&(0,v.YoD)(s),i&&i.d(e)}}}function o(e,t,s){var i=a.yA.view;let n=null,o;y.A.on("stopped",()=>{s(1,o=s(0,n=null))}),y.A.on("context-menu",(e,t)=>{e?.pid&&(s(1,o=e),s(0,n=t))}),i.addEventListener("click",()=>{s(0,n=null)});return[n,o,()=>{null!=o&&y.A.actions.spectate(o.pid)},()=>{null!=o&&(s(1,o.forceNameShown=!o.nameShown,o),o.invalidateVisibility())},()=>{null!=o&&o instanceof B.A&&(s(1,o.forceSkinShown=!o.skinShown,o),o.invalidateVisibility())},()=>{null!=o&&(navigator.clipboard.writeText(o.name),(0,r.me)("Copied name to clipboard",0,2e3))},()=>{null!=o&&(navigator.clipboard.writeText(o.skinUrl||""),(0,r.me)("Copied skin to clipboard",0,2e3))}]}class l extends v.r7T{constructor(e){super(),(0,v.TsN)(this,e,o,i,v.jXN,{})}}let A=l},92008:(e,t,s)=>{s.d(t,{A:()=>A});var C=s(83839),u=(s(60821),s(14098)),p=s(78258),m=s(24239),w=s(83439),I=s(95669),f=s(41949);function v(e,t,s){e=e.slice();return e[15]=t[s],e[17]=s,e}function n(s){let i,n,o,a,r,l,e,A,c=s[6],t,h,d,g,u=(0,C.rv_)(s[3]),p=[];for(let e=0;e<u.length;e+=1)p[e]=S(v(s,u,e));let m=b(s);return{c(){i=(0,C.ND4)("div"),n=(0,C.ND4)("div"),o=(0,C.ND4)("div");for(let e=0;e<p.length;e+=1)p[e].c();a=(0,C.xem)(),r=(0,C.ND4)("div"),l=(0,C.ND4)("input"),A=(0,C.xem)(),m.c(),(0,C.CFu)(o,"class","message-list s-f5iudq"),(0,C.CFu)(l,"class","message-input s-f5iudq"),(0,C.CFu)(l,"type","text"),(0,C.CFu)(l,"spellcheck","false"),(0,C.CFu)(l,"autocomplete","off"),(0,C.CFu)(l,"maxlength","100"),(0,C.CFu)(l,"tabindex","-1"),(0,C.CFu)(l,"placeholder",e="Enter message as tab "+(1+s[7])+"..."),(0,C.CFu)(r,"class","inputs s-f5iudq"),(0,C.CFu)(n,"class","chatbox s-f5iudq"),(0,C.hgi)(n,"height",s[4]),(0,C.CFu)(i,"class","chat-container s-f5iudq")},m(e,t){(0,C.Yry)(e,i,t),(0,C.BCw)(i,n),(0,C.BCw)(n,o);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(o,null);s[9](o),(0,C.BCw)(n,a),(0,C.BCw)(n,r),(0,C.BCw)(r,l),s[10](l),(0,C.BCw)(r,A),m.m(r,null),h=!0,d||(g=(0,C.KTR)(l,"keydown",s[8]),d=!0)},p(t,s){if(8&s){u=(0,C.rv_)(t[3]);let e;for(e=0;e<u.length;e+=1){var i=v(t,u,e);p[e]?p[e].p(i,s):(p[e]=S(i),p[e].c(),p[e].m(o,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=u.length}(!h||128&s&&e!==(e="Enter message as tab "+(1+t[7])+"..."))&&(0,C.CFu)(l,"placeholder",e),64&s&&(0,C.jXN)(c,c=t[6])?(m.d(1),(m=b(t)).c(),m.m(r,null)):m.p(t,s),(!h||16&s)&&(0,C.hgi)(n,"height",t[4])},i(e){h||(e&&(0,C.Dti)(()=>{h&&(t=t||(0,C.h86)(i,I.Rv,{duration:300},!0)).run(1)}),h=!0)},o(e){e&&(t=t||(0,C.h86)(i,I.Rv,{duration:300},!1)).run(0),h=!1},d(e){e&&(0,C.YoD)(i),(0,C.ppq)(p,e),s[9](null),s[10](null),m.d(e),e&&t&&t.end(),d=!1,g()}}}function y(e){let s,i,n=1+e[15].fromContext+"",o,a;return{c(){s=(0,C.ND4)("span"),i=(0,C.Qq7)("[tab "),o=(0,C.Qq7)(n),a=(0,C.Qq7)("]"),(0,C.CFu)(s,"class","message tabid s-f5iudq")},m(e,t){(0,C.Yry)(e,s,t),(0,C.BCw)(s,i),(0,C.BCw)(s,o),(0,C.BCw)(s,a)},p(e,t){8&t&&n!==(n=1+e[15].fromContext+"")&&(0,C.iQh)(o,n)},d(e){e&&(0,C.YoD)(s)}}}function B(e){let s,i;function n(e,t){return(s=null==(s=8&t?null:s)?!Number.isNaN(e[15].pid):s)?l:r}let o=n(e,-1),a=o(e);return{c(){a.c(),i=(0,C.Iex)()},m(e,t){a.m(e,t),(0,C.Yry)(e,i,t)},p(e,t){o===(o=n(e,t))&&a?a.p(e,t):(a.d(1),(a=o(e))&&(a.c(),a.m(i.parentNode,i)))},d(e){e&&(0,C.YoD)(i),a.d(e)}}}function r(e){let s,i,n=e[15].from+"",o,a;return{c(){s=(0,C.ND4)("span"),i=(0,C.Qq7)("["),o=(0,C.Qq7)(n),a=(0,C.Qq7)("]"),(0,C.CFu)(s,"class","message system s-f5iudq"),(0,C.hgi)(s,"color",e[15].fromColor)},m(e,t){(0,C.Yry)(e,s,t),(0,C.BCw)(s,i),(0,C.BCw)(s,o),(0,C.BCw)(s,a)},p(e,t){8&t&&n!==(n=e[15].from+"")&&(0,C.iQh)(o,n),8&t&&(0,C.hgi)(s,"color",e[15].fromColor)},d(e){e&&(0,C.YoD)(s)}}}function l(e){let s,i=e[15].from+"",n,o,a;return{c(){s=(0,C.ND4)("span"),n=(0,C.Qq7)(i),a=(0,C.Qq7)(":"),(0,C.CFu)(s,"class","message sender s-f5iudq"),(0,C.hgi)(s,"color",e[15].fromColor),(0,C.CFu)(s,"data-pid",o=e[15].pid)},m(e,t){(0,C.Yry)(e,s,t),(0,C.BCw)(s,n),(0,C.Yry)(e,a,t)},p(e,t){8&t&&i!==(i=e[15].from+"")&&(0,C.iQh)(n,i),8&t&&(0,C.hgi)(s,"color",e[15].fromColor),8&t&&o!==(o=e[15].pid)&&(0,C.CFu)(s,"data-pid",o)},d(e){e&&((0,C.YoD)(s),(0,C.YoD)(a))}}}function S(e){let s,i,n,o,a=e[15].timeStamp+"",r,l,A,c,h,d=e[15].text+"",g,u,t,p="number"==typeof e[15].fromContext&&y(e),m=!!e[15].from&&B(e);return{c(){s=(0,C.ND4)("div"),p&&p.c(),i=(0,C.xem)(),n=(0,C.ND4)("span"),o=(0,C.Qq7)("["),r=(0,C.Qq7)(a),l=(0,C.Qq7)("]"),A=(0,C.xem)(),m&&m.c(),c=(0,C.xem)(),h=(0,C.ND4)("span"),g=(0,C.Qq7)(d),u=(0,C.xem)(),(0,C.hgi)(n,"color",e[15].timeStampColor||"#818589"),(0,C.CFu)(n,"class","message stamp s-f5iudq"),(0,C.CFu)(h,"class","message text s-f5iudq"),(0,C.hgi)(h,"color",e[15].textColor),(0,C.CFu)(s,"data-key",t=e[17]),(0,C.CFu)(s,"class","message s-f5iudq")},m(e,t){(0,C.Yry)(e,s,t),p&&p.m(s,null),(0,C.BCw)(s,i),(0,C.BCw)(s,n),(0,C.BCw)(n,o),(0,C.BCw)(n,r),(0,C.BCw)(n,l),(0,C.BCw)(s,A),m&&m.m(s,null),(0,C.BCw)(s,c),(0,C.BCw)(s,h),(0,C.BCw)(h,g),(0,C.BCw)(s,u)},p(e,t){"number"==typeof e[15].fromContext?p?p.p(e,t):((p=y(e)).c(),p.m(s,i)):p&&(p.d(1),p=null),8&t&&a!==(a=e[15].timeStamp+"")&&(0,C.iQh)(r,a),8&t&&(0,C.hgi)(n,"color",e[15].timeStampColor||"#818589"),e[15].from?m?m.p(e,t):((m=B(e)).c(),m.m(s,c)):m&&(m.d(1),m=null),8&t&&d!==(d=e[15].text+"")&&(0,C.iQh)(g,d),8&t&&(0,C.hgi)(h,"color",e[15].textColor)},d(e){e&&(0,C.YoD)(s),p&&p.d(),m&&m.d()}}}function b(s){let i,n,o,a,r,l,A,c,h;return{c(){i=(0,C.ND4)("select"),n=(0,C.ND4)("option"),o=(0,C.Qq7)("Tab 1"),r=(0,C.ND4)("option"),l=(0,C.Qq7)("Tab 2"),n.disabled=a=!s[6][0],n.__value="0",(0,C.Gvd)(n,n.__value),r.disabled=A=!s[6][1],r.__value="1",(0,C.Gvd)(r,r.__value),(0,C.CFu)(i,"class","tab-selection s-f5iudq"),(0,C.CFu)(i,"name","speaker"),void 0===s[0]&&(0,C.Dti)(()=>s[11].call(i))},m(e,t){(0,C.Yry)(e,i,t),(0,C.BCw)(i,n),(0,C.BCw)(n,o),(0,C.BCw)(i,r),(0,C.BCw)(r,l),(0,C.fs8)(i,s[0],!0),c||(h=(0,C.KTR)(i,"change",s[11]),c=!0)},p(e,t){64&t&&a!==(a=!e[6][0])&&(n.disabled=a),64&t&&A!==(A=!e[6][1])&&(r.disabled=A),1&t&&(0,C.fs8)(i,e[0])},d(e){e&&(0,C.YoD)(i),c=!1,h()}}}function i(e){let s,i=e[5]&&n(e);return{c(){i&&i.c(),s=(0,C.Iex)()},m(e,t){i&&i.m(e,t),(0,C.Yry)(e,s,t)},p(e,[t]){e[5]?i?(i.p(e,t),32&t&&(0,C.c7F)(i,1)):((i=n(e)).c(),(0,C.c7F)(i,1),i.m(s.parentNode,s)):i&&((0,C.V44)(),(0,C.Tn8)(i,1,1,()=>{i=null}),(0,C.GYV)())},i(e){(0,C.c7F)(i)},o(e){(0,C.Tn8)(i)},d(e){e&&(0,C.YoD)(s),i&&i.d(e)}}}function o(e,t,s){let i;m.yA.view.addEventListener("mousedown",e=>n.blur());let n,o,a=async e=>{h&&(await(0,f.io)(),!e&&40<Math.abs(o.scrollHeight-o.clientHeight-o.scrollTop)||s(2,o.scrollTop=o.scrollHeight,o))},r=(u.A.on("focus-chat",()=>n.focus()),[]),l=(u.A.on("player-message",e=>{e.fromColor||(e.fromColor="#ffffff"),e.textColor||(e.textColor="#ffffff"),e.timeStamp||(e.timeStamp=(0,w.rO)()),r.push(e),300<r.length&&r.shift(),s(3,r),a(!1)}),u.A.on("clear-chat",()=>{s(3,r.length=0,r),s(3,r)}),{fromColor:"#99cdff",from:"server",pid:NaN}),A={fromColor:"#e1dedd",from:"system",pid:NaN},c=(u.A.on("server-message",e=>{r.push(Object.assign({text:e,timeStamp:(0,w.rO)()},l)),s(3,r),a(!1)}),u.A.on("system-message",(e,t)=>{r.push(Object.assign({text:e,textColor:t,timeStamp:(0,w.rO)()},A)),s(3,r),a(!1)}),p.A.get("chatHeight")),h=!1,d=(u.A.on("chat-visible",e=>{s(5,h=e)}),p.A.on("setting-changed",(e,t)=>{"chatHeight"===e?s(4,c=t):"showChat"===e&&s(5,h=t)}),"0"),g=[!1,!1];window.connectedTabs=g,u.A.on("connection-state",(e,t)=>{t&&!g[i]&&s(0,d=""+e),s(6,g[e]=t,g),s(6,g)});return e.$$.update=()=>{1&e.$$.dirty&&s(7,i=+d)},[d,n,o,r,c,h,g,i,e=>{"Enter"===e.key&&(n.value?.trim()&&(u.A.connections[i].sendChatMessagePacket(n.value),s(1,n.value="",n)),m.yA.view.focus(),a(!0))},function(e){C.Dnk[e?"unshift":"push"](()=>{o=e,s(2,o)})},function(e){C.Dnk[e?"unshift":"push"](()=>{n=e,s(1,n)})},function(){d=(0,C.Hw5)(this),s(0,d)}]}class a extends C.r7T{constructor(e){super(),(0,C.TsN)(this,e,o,i,C.jXN,{})}}let A=a},79305:(e,t,s)=>{s.d(t,{A:()=>r});var g=s(83839),A=(s(60821),s(14098)),c=s(63400),h=s(78258),d=s(95669);function u(e,t,s){e=e.slice();return e[9]=t[s],e[11]=s,e}function n(t){let s,n,o,i,a,r,l,A=(0,g.rv_)(t[4]),c=[];for(let e=0;e<A.length;e+=1)c[e]=m(u(t,A,e));return{c(){s=(0,g.ND4)("div"),n=(0,g.ND4)("div"),o=(0,g.Qq7)(t[0]),i=(0,g.xem)(),a=(0,g.ND4)("div");for(let e=0;e<c.length;e+=1)c[e].c();(0,g.CFu)(n,"class","leaderboard title s-xoowsv"),(0,g.goL)(n,"hide",!t[1]),(0,g.CFu)(s,"class","leaderboard-container s-xoowsv")},m(e,t){(0,g.Yry)(e,s,t),(0,g.BCw)(s,n),(0,g.BCw)(n,o),(0,g.BCw)(s,i),(0,g.BCw)(s,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null);l=!0},p(t,s){if((!l||1&s)&&(0,g.iQh)(o,t[0]),(!l||2&s)&&(0,g.goL)(n,"hide",!t[1]),48&s){A=(0,g.rv_)(t[4]);let e;for(e=0;e<A.length;e+=1){var i=u(t,A,e);c[e]?c[e].p(i,s):(c[e]=m(i),c[e].c(),c[e].m(a,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=A.length}},i(e){l||(e&&(0,g.Dti)(()=>{l&&(r=r||(0,g.h86)(s,d.Rv,{duration:300},!0)).run(1)}),l=!0)},o(e){e&&(r=r||(0,g.h86)(s,d.Rv,{duration:300},!1)).run(0),l=!1},d(e){e&&(0,g.YoD)(s),(0,g.ppq)(c,e),e&&r&&r.end()}}}function p(e){let s,i=e[9].position+"",n,o;return{c(){s=(0,g.ND4)("span"),n=(0,g.Qq7)(i),o=(0,g.Qq7)("."),(0,g.CFu)(s,"class","leaderboard entry-position s-xoowsv")},m(e,t){(0,g.Yry)(e,s,t),(0,g.BCw)(s,n),(0,g.BCw)(s,o)},p(e,t){16&t&&i!==(i=e[9].position+"")&&(0,g.iQh)(n,i)},d(e){e&&(0,g.YoD)(s)}}}function m(s){let i,n,o,a=s[9].text+"",r,l,A,e,c,h,d=C&&s[9].position&&p(s);return{c(){i=(0,g.ND4)("div"),d&&d.c(),n=(0,g.xem)(),o=(0,g.ND4)("span"),r=(0,g.Qq7)(a),l=(0,g.xem)(),(0,g.hgi)(o,"color",s[9].color),(0,g.hgi)(o,"font-weight",s[9].bold?"bold":"normal"),(0,g.CFu)(o,"class","s-xoowsv"),(0,g.CFu)(i,"class","leaderboard entry s-xoowsv"),(0,g.CFu)(i,"data-pid",A=s[9].pid),(0,g.CFu)(i,"data-key",e=s[11])},m(e,t){(0,g.Yry)(e,i,t),d&&d.m(i,null),(0,g.BCw)(i,n),(0,g.BCw)(i,o),(0,g.BCw)(o,r),(0,g.BCw)(i,l),c||(h=(0,g.KTR)(i,"click",s[5]),c=!0)},p(e,t){C&&e[9].position?d?d.p(e,t):((d=p(e)).c(),d.m(i,n)):d&&(d.d(1),d=null),16&t&&a!==(a=e[9].text+"")&&(0,g.iQh)(r,a),16&t&&(0,g.hgi)(o,"color",e[9].color),16&t&&(0,g.hgi)(o,"font-weight",e[9].bold?"bold":"normal"),16&t&&A!==(A=e[9].pid)&&(0,g.CFu)(i,"data-pid",A)},d(e){e&&(0,g.YoD)(i),d&&d.d(),c=!1,h()}}}function i(e){let s,i=e[2]&&e[3]&&n(e);return{c(){i&&i.c(),s=(0,g.Iex)()},m(e,t){i&&i.m(e,t),(0,g.Yry)(e,s,t)},p(e,[t]){e[2]&&e[3]?i?(i.p(e,t),12&t&&(0,g.c7F)(i,1)):((i=n(e)).c(),(0,g.c7F)(i,1),i.m(s.parentNode,s)):i&&((0,g.V44)(),(0,g.Tn8)(i,1,1,()=>{i=null}),(0,g.GYV)())},i(e){(0,g.c7F)(i)},o(e){(0,g.Tn8)(i)},d(e){e&&(0,g.YoD)(s),i&&i.d(e)}}}let C=!0;function o(e,t,i){let n="Leaderboard",o=!0,s=!1,a=h.A.get("showLeaderboard"),r=[],l=new Map([[0,"first"],[1,"second"],[2,"third"],[3,"fourth"],[4,"fifth"],[5,"sixth"],[6,"seventh"],[7,"eighth"],[8,"ninth"],[9,"tenth"]]);new class{constructor(){this.onUpdate=(t,e)=>{if(A.A.alive)if(t.some(e=>c.A.pids.includes(e.pid)))t=t.map(t=>{var e;return c.A.pids.includes(t.pid)&&(e=c.A.pids.findIndex(e=>e===t.pid),e=A.A.scores[e])&&(t.text+=` (${A.A.getMassText(e)})`),t});else{let e="You";var s=A.A.totalScore;s&&(e+=` (${A.A.getMassText(s)})`),t.push({pid:A.A.activePid,text:e,color:"#ffffff",bold:!1})}if(i(4,r=t),e)i(0,n=e.text),i(1,o=e.visible);else if(h.A.get("showServerName")&&c.A.selectedServer){i(1,o=!0);let e=c.A.selectedServer.region||"";e&&(e+=" "),e+=c.A.selectedServer.name||"Unknown server",i(0,n=e)}else i(1,o=!0),i(0,n="Leaderboard")},A.A.on("leaderboard-visible",e=>{i(3,a=e)}),A.A.on("leaderboard-show",this.show.bind(this)),A.A.on("leaderboard-hide",this.hide.bind(this))}show(){s||(A.A.on("leaderboard-update",this.onUpdate),i(2,s=!0))}hide(){s&&(A.A.off("leaderboard-update",this.onUpdate),i(4,r=[]),i(2,s=!1))}};return[n,o,s,a,r,e=>{let t=e.target;var e=+(t=t.classList.contains("entry")?t:t.parentElement).dataset.pid,s=+t.dataset.key;"number"==typeof e&&"number"==typeof s&&A.A.actions.spectate(e,l.get(s)+" largest player")}]}class a extends g.r7T{constructor(e){super(),(0,g.TsN)(this,e,o,i,g.jXN,{})}}let r=a},98837:(e,t,s)=>{s.d(t,{A:()=>l});var P=s(83839),G=(s(60821),s(14098)),z=s(78258),$=s(53462),x=s(95669);function n(e){let s,i,n,o,a,r,l,A,c,h,d,g=e[0],u,t,p,m=e[22]&&e[21]&&k(e),C=e[24]&&e[23]&&N(e),w=e[20]&&e[19]&&D(e),I=e[16]&&e[15]&&F(e),f=e[18]&&e[17]&&T(e),v=e[14]&&e[13]&&R(e),y=e[11]&&-1!=e[12]&&U(e),B=e[9]&&-1!=e[10]&&M(e),S=e[7]&&-1!=e[8]&&Y(e),b=e[3]&&L(e),E=H(e),Q=e[6]&&e[5]&&j();return{c(){s=(0,P.ND4)("div"),m&&m.c(),i=(0,P.xem)(),C&&C.c(),n=(0,P.xem)(),w&&w.c(),o=(0,P.xem)(),I&&I.c(),a=(0,P.xem)(),f&&f.c(),r=(0,P.xem)(),v&&v.c(),l=(0,P.xem)(),y&&y.c(),A=(0,P.xem)(),B&&B.c(),c=(0,P.xem)(),S&&S.c(),h=(0,P.xem)(),b&&b.c(),d=(0,P.xem)(),E.c(),u=(0,P.xem)(),Q&&Q.c(),(0,P.CFu)(s,"class","stats s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),m&&m.m(s,null),(0,P.BCw)(s,i),C&&C.m(s,null),(0,P.BCw)(s,n),w&&w.m(s,null),(0,P.BCw)(s,o),I&&I.m(s,null),(0,P.BCw)(s,a),f&&f.m(s,null),(0,P.BCw)(s,r),v&&v.m(s,null),(0,P.BCw)(s,l),y&&y.m(s,null),(0,P.BCw)(s,A),B&&B.m(s,null),(0,P.BCw)(s,c),S&&S.m(s,null),(0,P.BCw)(s,h),b&&b.m(s,null),(0,P.BCw)(s,d),E.m(s,null),(0,P.BCw)(s,u),Q&&Q.m(s,null),p=!0},p(e,t){e[22]&&e[21]?m?m.p(e,t):((m=k(e)).c(),m.m(s,i)):m&&(m.d(1),m=null),e[24]&&e[23]?C?C.p(e,t):((C=N(e)).c(),C.m(s,n)):C&&(C.d(1),C=null),e[20]&&e[19]?w?w.p(e,t):((w=D(e)).c(),w.m(s,o)):w&&(w.d(1),w=null),e[16]&&e[15]?I?I.p(e,t):((I=F(e)).c(),I.m(s,a)):I&&(I.d(1),I=null),e[18]&&e[17]?f?f.p(e,t):((f=T(e)).c(),f.m(s,r)):f&&(f.d(1),f=null),e[14]&&e[13]?v?v.p(e,t):((v=R(e)).c(),v.m(s,l)):v&&(v.d(1),v=null),e[11]&&-1!=e[12]?y?y.p(e,t):((y=U(e)).c(),y.m(s,A)):y&&(y.d(1),y=null),e[9]&&-1!=e[10]?B?B.p(e,t):((B=M(e)).c(),B.m(s,c)):B&&(B.d(1),B=null),e[7]&&-1!=e[8]?S?S.p(e,t):((S=Y(e)).c(),S.m(s,h)):S&&(S.d(1),S=null),e[3]?b?b.p(e,t):((b=L(e)).c(),b.m(s,d)):b&&(b.d(1),b=null),1&t[0]&&(0,P.jXN)(g,g=e[0])?(E.d(1),(E=H(e)).c(),E.m(s,u)):E.p(e,t),e[6]&&e[5]?Q||((Q=j()).c(),Q.m(s,null)):Q&&(Q.d(1),Q=null)},i(e){p||(e&&(0,P.Dti)(()=>{p&&(t=t||(0,P.h86)(s,x.Rv,{duration:300},!0)).run(1)}),p=!0)},o(e){e&&(t=t||(0,P.h86)(s,x.Rv,{duration:300},!1)).run(0),p=!1},d(e){e&&(0,P.YoD)(s),m&&m.d(),C&&C.d(),w&&w.d(),I&&I.d(),f&&f.d(),v&&v.d(),y&&y.d(),B&&B.d(),S&&S.d(),b&&b.d(),E.d(e),Q&&Q.d(),e&&t&&t.end()}}}function k(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="FPS",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[21]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){2097152&t[0]&&(0,P.iQh)(a,e[21])},d(e){e&&(0,P.YoD)(s)}}}function N(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="Ping",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[23]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){8388608&t[0]&&(0,P.iQh)(a,e[23])},d(e){e&&(0,P.YoD)(s)}}}function D(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="Mass",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[19]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){524288&t[0]&&(0,P.iQh)(a,e[19])},d(e){e&&(0,P.YoD)(s)}}}function F(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="Score",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[15]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){32768&t[0]&&(0,P.iQh)(a,e[15])},d(e){e&&(0,P.YoD)(s)}}}function T(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="Total Mass",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[17]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){131072&t[0]&&(0,P.iQh)(a,e[17])},d(e){e&&(0,P.YoD)(s)}}}function R(e){let s,i,n,o,a;return{c(){s=(0,P.ND4)("p"),(i=(0,P.ND4)("span")).textContent="Cells",n=(0,P.xem)(),o=(0,P.ND4)("span"),a=(0,P.Qq7)(e[13]),(0,P.CFu)(i,"class","stat-name s-8ofca7"),(0,P.CFu)(o,"class","stat-value s-8ofca7"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(o,a)},p(e,t){8192&t[0]&&(0,P.iQh)(a,e[13])},d(e){e&&(0,P.YoD)(s)}}}function U(e){let s,i,n=2!=e[12]?" tab "+(1+e[12]):"both tabs",o;return{c(){s=(0,P.ND4)("p"),i=(0,P.Qq7)("Mouse frozen on "),o=(0,P.Qq7)(n),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,o)},p(e,t){4096&t[0]&&n!==(n=2!=e[12]?" tab "+(1+e[12]):"both tabs")&&(0,P.iQh)(o,n)},d(e){e&&(0,P.YoD)(s)}}}function M(e){let s,i,n=2!=e[10]?"tab "+(1+e[10]):"both tabs",o;return{c(){s=(0,P.ND4)("p"),i=(0,P.Qq7)("Movement stopped on "),o=(0,P.Qq7)(n),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,o)},p(e,t){1024&t[0]&&n!==(n=2!=e[10]?"tab "+(1+e[10]):"both tabs")&&(0,P.iQh)(o,n)},d(e){e&&(0,P.YoD)(s)}}}function Y(e){let s,i,n=2!=e[8]?"tab "+(1+e[8]):"both tabs",o;return{c(){s=(0,P.ND4)("p"),i=(0,P.Qq7)("Linesplitting on "),o=(0,P.Qq7)(n),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i),(0,P.BCw)(s,o)},p(e,t){256&t[0]&&n!==(n=2!=e[8]?"tab "+(1+e[8]):"both tabs")&&(0,P.iQh)(o,n)},d(e){e&&(0,P.YoD)(s)}}}function L(e){let s,i;return{c(){s=(0,P.ND4)("p"),i=(0,P.Qq7)(e[4]),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,i)},p(e,t){16&t[0]&&(0,P.iQh)(i,e[4])},d(e){e&&(0,P.YoD)(s)}}}function o(e){let s,i=e[0]?"web-gl":"canvas",n,o,a=e[1]?"w/":"w/o",r,l;return{c(){s=(0,P.ND4)("p"),n=(0,P.Qq7)(i),o=(0,P.Qq7)(" renderer "),r=(0,P.Qq7)(a),l=(0,P.Qq7)(" anti-aliasing"),(0,P.CFu)(s,"class","stat-item s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t),(0,P.BCw)(s,n),(0,P.BCw)(s,o),(0,P.BCw)(s,r),(0,P.BCw)(s,l)},p(e,t){1&t[0]&&i!==(i=e[0]?"web-gl":"canvas")&&(0,P.iQh)(n,i),2&t[0]&&a!==(a=e[1]?"w/":"w/o")&&(0,P.iQh)(r,a)},d(e){e&&(0,P.YoD)(s)}}}function H(e){let s=e[1],i,n=o(e);return{c(){n.c(),i=(0,P.Iex)()},m(e,t){n.m(e,t),(0,P.Yry)(e,i,t)},p(e,t){2&t[0]&&(0,P.jXN)(s,s=e[1])?(n.d(1),(n=o(e)).c(),n.m(i.parentNode,i)):n.p(e,t)},d(e){e&&(0,P.YoD)(i),n.d(e)}}}function j(){let s;return{c(){(s=(0,P.ND4)("p")).innerHTML=`<b>Warning: Unstable latency detected!</b> <br/>
        Dual gameplay may be affected`,(0,P.CFu)(s,"class","warning s-8ofca7")},m(e,t){(0,P.Yry)(e,s,t)},d(e){e&&(0,P.YoD)(s)}}}function i(e){let s,i=e[2]&&n(e);return{c(){i&&i.c(),s=(0,P.Iex)()},m(e,t){i&&i.m(e,t),(0,P.Yry)(e,s,t)},p(e,t){e[2]?i?(i.p(e,t),4&t[0]&&(0,P.c7F)(i,1)):((i=n(e)).c(),(0,P.c7F)(i,1),i.m(s.parentNode,s)):i&&((0,P.V44)(),(0,P.Tn8)(i,1,1,()=>{i=null}),(0,P.GYV)())},i(e){(0,P.c7F)(i)},o(e){(0,P.Tn8)(i)},d(e){e&&(0,P.YoD)(s),i&&i.d(e)}}}function a(e,M,s){let t,i,n,o,a,r,l,A,c,h,d,g,u,p,m,C,w,I,f,v,y,B,S=((0,P.j0C)(e,$.hZ,e=>s(4,i=e)),(0,P.j0C)(e,$.ZK,e=>s(5,n=e)),(0,P.j0C)(e,$.NC,e=>s(8,r=e)),(0,P.j0C)(e,$.Xt,e=>s(10,A=e)),(0,P.j0C)(e,$.KP,e=>s(12,h=e)),(0,P.j0C)(e,$.Yo,e=>s(13,d=e)),(0,P.j0C)(e,$.fN,e=>s(15,u=e)),(0,P.j0C)(e,$.fj,e=>s(17,m=e)),(0,P.j0C)(e,$.rd,e=>s(19,w=e)),(0,P.j0C)(e,$.uU,e=>s(21,f=e)),(0,P.j0C)(e,$.hU,e=>s(23,y=e)),$.uU.visible),b=((0,P.j0C)(e,S,e=>s(22,v=e)),$.hU.visible),E=((0,P.j0C)(e,b,e=>s(24,B=e)),$.rd.visible),Q=((0,P.j0C)(e,E,e=>s(20,I=e)),$.fj.visible),x=((0,P.j0C)(e,Q,e=>s(18,C=e)),$.fN.visible),k=((0,P.j0C)(e,x,e=>s(16,p=e)),$.Yo.visible),N=((0,P.j0C)(e,k,e=>s(14,g=e)),$.ZK.visible),D=((0,P.j0C)(e,N,e=>s(6,o=e)),$.hZ.visible),F=((0,P.j0C)(e,D,e=>s(3,t=e)),$.KP.visible),T=((0,P.j0C)(e,F,e=>s(11,c=e)),$.Xt.visible),R=((0,P.j0C)(e,T,e=>s(9,l=e)),$.NC.visible),U=((0,P.j0C)(e,R,e=>s(7,a=e)),z.A.useWebGL),Y=z.A.get("useAntialiasing"),L=(z.A.on("setting-changed",(e,t)=>{"useWebGL"===e?s(0,U=z.A.useWebGL):"useAntialiasing"==e&&s(1,Y=z.A.get("useAntialiasing"))}),!1);e=()=>{(0,P.vu6)(S,v=z.A.get("showFPS"),v),(0,P.vu6)(b,B=z.A.get("showPing"),B),(0,P.vu6)(E,I=z.A.get("showPlayerMass"),I),(0,P.vu6)(Q,C=z.A.get("showTotalPlayerMass"),C),(0,P.vu6)(x,p=z.A.get("showPlayerScore"),p),(0,P.vu6)(k,g=z.A.get("showCellCount"),g),(0,P.vu6)(N,o=z.A.get("showLatencyWarning"),o),(0,P.vu6)(D,t=!!i,t)};return G.A.on("stats-visible",e=>{s(2,L=e)}),G.A.on("stats-invalidate-shown",e),e(),G.A.on("cells-changed",e=>{g&&(0,P.vu6)($.Yo,d=e,d)}),G.A.on("ping-changed",e=>{B&&(0,P.vu6)($.hU,y=e,y)}),G.A.on("update-stats",()=>{var e;v&&(0,P.vu6)($.uU,f=~~G.A.fps.average,f),I&&(e=G.A.score,(0,P.vu6)($.rd,w=e?G.A.getMassText(e):"",w)),C&&(e=G.A.totalScore,(0,P.vu6)($.fj,m=e?G.A.getMassText(e):"",m)),p&&(0,P.vu6)($.fN,u=G.A.highestScore?G.A.getMassText(G.A.highestScore):"",u),g&&(0,P.vu6)($.Yo,d=G.A.cellCount,d)}),G.A.on("update-cautions",e=>{"mouseFrozen"in e&&((0,P.vu6)($.KP,h=G.A.mouseFrozenFor,h),(0,P.vu6)(F,c=e.mouseFrozen,c)),"centralizeCells"in e&&((0,P.vu6)($.Xt,A=G.A.centralizeCellsFor,A),(0,P.vu6)(T,l=e.centralizeCells,l)),"lockLinesplit"in e&&((0,P.vu6)($.NC,r=G.A.stopMovementPacketsFor,r),(0,P.vu6)(R,a=e.lockLinesplit,a))}),G.A.on("latency-unstable",e=>{o&&(0,P.vu6)($.ZK,n=e,n)}),G.A.on("trigger-status-update",e=>{(0,P.vu6)($.hZ,i=e,i),(0,P.vu6)(D,t=!!e,t)}),[U,Y,L,t,i,n,o,a,r,l,A,c,h,d,g,u,p,m,C,w,I,f,v,y,B,S,b,E,Q,x,k,N,D,F,T,R]}class r extends P.r7T{constructor(e){super(),(0,P.TsN)(this,e,a,i,P.jXN,{},null,[-1,-1])}}let l=r},8167:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(83839);s(60821);function n(e){let s;return{c(){((s=(0,i.ND4)("div")).innerHTML="",i.CFu)(s,"class","account-data container")},m(e,t){(0,i.Yry)(e,s,t)},p:i.lQ1,i:i.lQ1,o:i.lQ1,d(e){e&&(0,i.YoD)(s)}}}class o extends i.r7T{constructor(e){super(),(0,i.TsN)(this,e,null,n,i.jXN,{})}}let a=o},49053:(e,t,s)=>{s.d(t,{A:()=>c});var g=s(83839),t=(s(60821),s(54603)),n=s(60743),o=s(22808);function u(s){let i,n,o,a,r;return{c(){(i=(0,g.ND4)("div")).textContent="Skins",n=(0,g.xem)(),(o=(0,g.ND4)("div")).textContent="Perks",(0,g.CFu)(i,"class","tab"),(0,g.goL)(i,"active",0===s[0]),(0,g.CFu)(o,"class","tab"),(0,g.goL)(o,"active",1===s[0])},m(e,t){(0,g.Yry)(e,i,t),(0,g.Yry)(e,n,t),(0,g.Yry)(e,o,t),a||(r=[(0,g.KTR)(i,"click",s[1]),(0,g.KTR)(o,"click",s[2])],a=!0)},p(e,t){1&t&&(0,g.goL)(i,"active",0===e[0]),1&t&&(0,g.goL)(o,"active",1===e[0])},d(e){e&&((0,g.YoD)(i),(0,g.YoD)(n),(0,g.YoD)(o)),(a=!1,g.oOW)(r)}}}function p(e){let s,i;return s=new n.A({}),{c(){(0,g.N0i)(s.$$.fragment)},m(e,t){(0,g.wSR)(s,e,t),i=!0},i(e){i||((0,g.c7F)(s.$$.fragment,e),i=!0)},o(e){(0,g.Tn8)(s.$$.fragment,e),i=!1},d(e){(0,g.Hbl)(s,e)}}}function m(e){let s,i;return s=new o.A({}),{c(){(0,g.N0i)(s.$$.fragment)},m(e,t){(0,g.wSR)(s,e,t),i=!0},i(e){i||((0,g.c7F)(s.$$.fragment,e),i=!0)},o(e){(0,g.Tn8)(s.$$.fragment,e),i=!1},d(e){(0,g.Hbl)(s,e)}}}function i(e){let i,n,o=e[0],s,a,r,l,A=u(e),c=[m,p],h=[];function d(e){return 0===e[0]?0:1}return a=d(e),r=h[a]=c[a](e),{c(){i=(0,g.ND4)("div"),n=(0,g.ND4)("div"),A.c(),s=(0,g.xem)(),r.c(),(0,g.CFu)(n,"class","tabs"),(0,g.CFu)(i,"class","customization container s-rp2x31"),(0,g.goL)(i,"skins",0===e[0]),(0,g.goL)(i,"perks",1===e[0])},m(e,t){(0,g.Yry)(e,i,t),(0,g.BCw)(i,n),A.m(n,null),(0,g.BCw)(i,s),h[a].m(i,null),l=!0},p(e,[t]){1&t&&(0,g.jXN)(o,o=e[0])?(A.d(1),(A=u(e)).c(),A.m(n,null)):A.p(e,t);let s=a;(a=d(e))!==s&&((0,g.V44)(),(0,g.Tn8)(h[s],1,1,()=>{h[s]=null}),(0,g.GYV)(),(r=h[a])||(r=h[a]=c[a](e)).c(),(0,g.c7F)(r,1),r.m(i,null)),(!l||1&t)&&(0,g.goL)(i,"skins",0===e[0]),(!l||1&t)&&(0,g.goL)(i,"perks",1===e[0])},i(e){l||((0,g.c7F)(r),l=!0)},o(e){(0,g.Tn8)(r),l=!1},d(e){e&&(0,g.YoD)(i),A.d(e),h[a].d()}}}let a=(0,t.T5)(0),r=e=>{a.set(e)};function l(e,t,s){let i,n=g.lQ1;(0,g.j0C)(e,a,e=>s(0,i=e)),e.$$.on_destroy.push(()=>n());return[i,()=>r(0),()=>r(1)]}class A extends g.r7T{constructor(e){super(),(0,g.TsN)(this,e,l,i,g.jXN,{})}}let c=A},60743:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(83839);s(60821);function n(e){let s;return{c(){s=(0,i.ND4)("div")},m(e,t){(0,i.Yry)(e,s,t)},p:i.lQ1,i:i.lQ1,o:i.lQ1,d(e){e&&(0,i.YoD)(s)}}}class o extends i.r7T{constructor(e){super(),(0,i.TsN)(this,e,null,n,i.jXN,{})}}let a=o},22808:(e,t,s)=>{s.d(t,{A:()=>B});var m=s(83839),a=(s(60821),s(54603)),n=s(83439),r=s(14098);function l(e,t,s){e=e.slice();return e[4]=t[s],e[6]=s,e}function C(e){let s;return{c(){(s=(0,m.ND4)("span")).textContent=e[0]+1+" / "+c.length},m(e,t){(0,m.Yry)(e,s,t)},p:m.lQ1,d(e){e&&(0,m.YoD)(s)}}}function A(s){let i,n,o,a,r,l;function A(){return s[3](s[6])}return{c(){i=(0,m.ND4)("span"),n=(0,m.ND4)("img"),a=(0,m.xem)(),(0,m.CFu)(n,"class","image s-166yrjd"),(0,m.mq_)(n.src,o=s[4])||(0,m.CFu)(n,"src",o),(0,m.CFu)(n,"alt","Skin preview"),(0,m.goL)(n,"selected",s[0]===s[1]&&s[6]===s[2]),(0,m.CFu)(i,"class","skin s-166yrjd")},m(e,t){(0,m.Yry)(e,i,t),(0,m.BCw)(i,n),(0,m.BCw)(i,a),r||(l=(0,m.KTR)(i,"click",A),r=!0)},p(e,t){s=e,1&t&&!(0,m.mq_)(n.src,o=s[4])&&(0,m.CFu)(n,"src",o),7&t&&(0,m.goL)(n,"selected",s[0]===s[1]&&s[6]===s[2])},d(e){e&&(0,m.YoD)(i),r=!1,l()}}}function w(t){let n,o=(0,m.rv_)(c[t[0]]),a=[];for(let e=0;e<o.length;e+=1)a[e]=A(l(t,o,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();n=(0,m.Iex)()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);(0,m.Yry)(t,n,s)},p(t,s){if(7&s){o=(0,m.rv_)(c[t[0]]);let e;for(e=0;e<o.length;e+=1){var i=l(t,o,e);a[e]?a[e].p(i,s):(a[e]=A(i),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(e){e&&(0,m.YoD)(n),(0,m.ppq)(a,e)}}}function i(e){let s,i,n,o,a=e[0],r,l,A,c,h=e[0],d,g,u=C(e),p=w(e);return{c(){s=(0,m.ND4)("div"),i=(0,m.ND4)("div"),n=(0,m.ND4)("i"),o=(0,m.xem)(),u.c(),r=(0,m.xem)(),l=(0,m.ND4)("i"),A=(0,m.xem)(),c=(0,m.ND4)("div"),p.c(),(0,m.CFu)(n,"class","selector fas fa-arrow-left s-166yrjd"),(0,m.CFu)(l,"class","selector fas fa-arrow-right s-166yrjd"),(0,m.CFu)(i,"class","selectors s-166yrjd"),(0,m.CFu)(c,"class","skins s-166yrjd"),(0,m.CFu)(s,"class","skin-container s-166yrjd")},m(e,t){(0,m.Yry)(e,s,t),(0,m.BCw)(s,i),(0,m.BCw)(i,n),(0,m.BCw)(i,o),u.m(i,null),(0,m.BCw)(i,r),(0,m.BCw)(i,l),(0,m.BCw)(s,A),(0,m.BCw)(s,c),p.m(c,null),d||(g=[(0,m.KTR)(n,"click",I),(0,m.KTR)(l,"click",f)],d=!0)},p(e,[t]){1&t&&(0,m.jXN)(a,a=e[0])?(u.d(1),(u=C(e)).c(),u.m(i,r)):u.p(e,t),1&t&&(0,m.jXN)(h,h=e[0])?(p.d(1),(p=w(e)).c(),p.m(c,null)):p.p(e,t)},i:m.lQ1,o:m.lQ1,d(e){e&&(0,m.YoD)(s),u.d(e),p.d(e),(d=!1,m.oOW)(g)}}}let o=window.skins=[],c=window.pages=[[]],h=2,d=()=>{localStorage.setItem("skinPages",JSON.stringify(c))};(()=>{if(!(()=>{if(!("skinPages"in localStorage))return!1;(0,n.$s)(0,"Loading skin pages from cache");let e;try{e=JSON.parse(localStorage.getItem("skinPages"))}catch(e){}if(1===(e=!Array.isArray(e)||e.length<1?[[]]:e).length){var t=e[0];for(let e=t.length;e<h;e++)t.push("https://skins.vanis.io/s/vanis1")}return c=e,d(),!0})()){(0,n.$s)(0,"Loading skin pages from skins cache");let t=[];if("skins"in localStorage){try{t=JSON.parse(localStorage.getItem("skins"))}catch(e){return}if(!Array.isArray(t))return;for(let e=t.length;e<2;e++)t.push("https://skins.vanis.io/s/vanis1")}let e=0,s=0;for(var i=(o=t).length;s<i;)c[e++]=o.slice(s,s+=9);d()}})();let g=(0,a.T5)(Math.min("selectedPageIndex"in localStorage?+localStorage.getItem("selectedPageIndex"):0,c.length)),u=(g.subscribe(e=>localStorage.setItem("selectedPageIndex",""+e)),(0,a.T5)("selectedPageSkinIndex"in localStorage?+localStorage.getItem("selectedPageSkinIndex"):0)),p=(u.subscribe(e=>localStorage.setItem("selectedPageSkinIndex",""+e)),(0,a.T5)(Math.min("selectedSkinPageIndex"in localStorage?+localStorage.getItem("selectedSkinPageIndex"):0,c.length))),I=(p.subscribe(e=>localStorage.setItem("selectedSkinPageIndex",""+e)),r.A.on("skin-set",e=>{var t=c[(0,a.Jt)(g)];(0,a.Jt)(u)>t.length&&u.set(0),t[(0,a.Jt)(u)]=e,d()}),()=>{g.set(Math.max((0,a.Jt)(g)-1,0))}),f=()=>{g.set(Math.min((0,a.Jt)(g)+1,c.length-1))};function v(e,t,s){let i,n,o;(0,m.j0C)(e,g,e=>s(0,i=e)),(0,m.j0C)(e,p,e=>s(1,n=e)),(0,m.j0C)(e,u,e=>s(2,o=e));return[i,n,o,e=>{return e=e,u.set(e),p.set((0,a.Jt)(g)),t=c[(0,a.Jt)(g)],e>t.length&&(e=0),void r.A.emit("skin-set",t[e]);var t}]}class y extends m.r7T{constructor(e){super(),(0,m.TsN)(this,e,v,i,m.jXN,{})}}let B=y},87399:(e,t,s)=>{s.d(t,{A:()=>l});var g=s(83839),u=(s(60821),s(43228)),p=s(48481),m=s(49053),C=s(8167),n=s(21068),w=s(95669);function o(){let s,i,n,o,a,r,l,A,c,h,t,d;return o=new u.A({}),r=new p.A({}),A=new C.A({}),h=new m.A({}),{c(){s=(0,g.ND4)("div"),i=(0,g.ND4)("div"),n=(0,g.xem)(),(0,g.N0i)(o.$$.fragment),a=(0,g.xem)(),(0,g.N0i)(r.$$.fragment),l=(0,g.xem)(),(0,g.N0i)(A.$$.fragment),c=(0,g.xem)(),(0,g.N0i)(h.$$.fragment),(0,g.CFu)(i,"class","bar s-wwp2cq"),(0,g.CFu)(s,"class","main-container s-wwp2cq")},m(e,t){(0,g.Yry)(e,s,t),(0,g.BCw)(s,i),(0,g.BCw)(s,n),(0,g.wSR)(o,s,null),(0,g.BCw)(s,a),(0,g.wSR)(r,s,null),(0,g.BCw)(s,l),(0,g.wSR)(A,s,null),(0,g.BCw)(s,c),(0,g.wSR)(h,s,null),d=!0},i(e){d||((0,g.c7F)(o.$$.fragment,e),(0,g.c7F)(r.$$.fragment,e),(0,g.c7F)(A.$$.fragment,e),(0,g.c7F)(h.$$.fragment,e),e&&(0,g.Dti)(()=>{d&&(t=t||(0,g.h86)(s,w.Rv,{duration:200},!0)).run(1)}),d=!0)},o(e){(0,g.Tn8)(o.$$.fragment,e),(0,g.Tn8)(r.$$.fragment,e),(0,g.Tn8)(A.$$.fragment,e),(0,g.Tn8)(h.$$.fragment,e),e&&(t=t||(0,g.h86)(s,w.Rv,{duration:200},!1)).run(0),d=!1},d(e){e&&(0,g.YoD)(s),(0,g.Hbl)(o),(0,g.Hbl)(r),(0,g.Hbl)(A),(0,g.Hbl)(h),e&&t&&t.end()}}}function i(e){let s,i,n=e[0]&&o();return{c(){n&&n.c(),s=(0,g.Iex)()},m(e,t){n&&n.m(e,t),(0,g.Yry)(e,s,t),i=!0},p(e,[t]){e[0]?n?1&t&&(0,g.c7F)(n,1):((n=o()).c(),(0,g.c7F)(n,1),n.m(s.parentNode,s)):n&&((0,g.V44)(),(0,g.Tn8)(n,1,1,()=>{n=null}),(0,g.GYV)())},i(e){i||((0,g.c7F)(n),i=!0)},o(e){(0,g.Tn8)(n),i=!1},d(e){e&&(0,g.YoD)(s),n&&n.d(e)}}}function a(e,t,s){let i;return(0,g.j0C)(e,n.z,e=>s(0,i=e)),[i]}class r extends g.r7T{constructor(e){super(),(0,g.TsN)(this,e,a,i,g.jXN,{})}}let l=r},48481:(e,t,s)=>{s.d(t,{A:()=>m});var T=s(83839),i=(s(60821),s(54603)),B=s(20990),A=s(84293),n=s(63400),o=s(78258),a=s(14098),c=s(59434);function R(e){let s,i,n,o,a,r,l;return{c(){s=(0,T.ND4)("button"),i=(0,T.ND4)("i"),n=(0,T.xem)(),o=(0,T.Qq7)(e[4]),(0,T.CFu)(i,"class","fas fa-play play-icon s-1l4aaom"),(0,T.CFu)(s,"class","play button s-1l4aaom"),s.disabled=a=!e[3]},m(e,t){(0,T.Yry)(e,s,t),(0,T.BCw)(s,i),(0,T.BCw)(s,n),(0,T.BCw)(s,o),r||(l=(0,T.KTR)(s,"click",g),r=!0)},p(e,t){16&t&&(0,T.iQh)(o,e[4]),8&t&&a!==(a=!e[3])&&(s.disabled=a)},d(e){e&&(0,T.YoD)(s),r=!1,l()}}}function U(e){let s,i,n,o,a;return{c(){s=(0,T.ND4)("button"),i=(0,T.ND4)("i"),(0,T.CFu)(i,"class","fas fa-search"),(0,T.CFu)(s,"class","spectate button s-1l4aaom"),s.disabled=n=!e[5],(0,T.CFu)(s,"data-tip","Spectate")},m(e,t){(0,T.Yry)(e,s,t),(0,T.BCw)(s,i),o||(a=(0,T.KTR)(s,"click",l),o=!0)},p(e,t){32&t&&n!==(n=!e[5])&&(s.disabled=n)},d(e){e&&(0,T.YoD)(s),o=!1,a()}}}function S(s){let i,n,o,a,r,l,A,c,h,d,g,u,p,m,C,w,I,f,v,y,B,S,b,E=s[3],Q,x=s[5],k,N,D=R(s),F=U(s);return{c(){i=(0,T.ND4)("div"),n=(0,T.ND4)("i"),o=(0,T.xem)(),a=(0,T.ND4)("div"),r=(0,T.ND4)("img"),A=(0,T.xem)(),c=(0,T.ND4)("div"),h=(0,T.xem)(),d=(0,T.ND4)("i"),g=(0,T.xem)(),u=(0,T.ND4)("div"),p=(0,T.ND4)("div"),m=(0,T.ND4)("input"),w=(0,T.xem)(),I=(0,T.ND4)("input"),v=(0,T.xem)(),y=(0,T.ND4)("input"),S=(0,T.xem)(),b=(0,T.ND4)("div"),D.c(),Q=(0,T.xem)(),F.c(),(0,T.CFu)(n,"class","selector fas fa-caret-left s-1l4aaom"),(0,T.CFu)(r,"alt","Skin preview"),(0,T.mq_)(r.src,l=s[2].skins[s[1]])||(0,T.CFu)(r,"src",l),(0,T.CFu)(r,"class","skin s-1l4aaom"),(0,T.CFu)(c,"class","skin background s-1l4aaom"),(0,T.CFu)(a,"class","preview s-1l4aaom"),(0,T.CFu)(d,"class","selector fas fa-caret-right s-1l4aaom"),(0,T.CFu)(i,"class","preview-wrapper s-1l4aaom"),(0,T.CFu)(m,"class","name-input s-1l4aaom"),(0,T.CFu)(m,"type","text"),(0,T.CFu)(m,"spellcheck","false"),(0,T.CFu)(m,"placeholder","Nickname"),(0,T.CFu)(m,"maxlength","15"),m.value=C=s[2].names[s[1]],(0,T.CFu)(I,"class","tag-input s-1l4aaom"),(0,T.CFu)(I,"type","text"),(0,T.CFu)(I,"spellcheck","false"),(0,T.CFu)(I,"placeholder","Tag"),(0,T.CFu)(I,"maxlength","15"),(0,T.CFu)(I,"data-tip","You only see and chat with players in same tag"),I.value=f=s[2].tags[s[1]],(0,T.CFu)(p,"class","inputs s-1l4aaom"),(0,T.CFu)(y,"class","skin-input"),(0,T.CFu)(y,"type","text"),(0,T.CFu)(y,"spellcheck","false"),(0,T.CFu)(y,"placeholder","https://skins.vanis.io/s/"),(0,T.CFu)(y,"maxlength","31"),y.value=B=s[2].skins[s[1]],(0,T.CFu)(b,"class","buttons s-1l4aaom"),(0,T.CFu)(u,"class","player-data s-1l4aaom")},m(e,t){(0,T.Yry)(e,i,t),(0,T.BCw)(i,n),(0,T.BCw)(i,o),(0,T.BCw)(i,a),(0,T.BCw)(a,r),(0,T.BCw)(a,A),(0,T.BCw)(a,c),(0,T.BCw)(i,h),(0,T.BCw)(i,d),(0,T.Yry)(e,g,t),(0,T.Yry)(e,u,t),(0,T.BCw)(u,p),(0,T.BCw)(p,m),(0,T.BCw)(p,w),(0,T.BCw)(p,I),(0,T.BCw)(u,v),(0,T.BCw)(u,y),(0,T.BCw)(u,S),(0,T.BCw)(u,b),D.m(b,null),(0,T.BCw)(b,Q),F.m(b,null),k||(N=[(0,T.KTR)(n,"click",s[11]),(0,T.KTR)(r,"error",P),(0,T.KTR)(d,"click",s[12]),(0,T.KTR)(m,"change",M),(0,T.KTR)(I,"change",L),(0,T.KTR)(y,"change",Y)],k=!0)},p(e,t){6&t&&!(0,T.mq_)(r.src,l=e[2].skins[e[1]])&&(0,T.CFu)(r,"src",l),6&t&&C!==(C=e[2].names[e[1]])&&m.value!==C&&(m.value=C),6&t&&f!==(f=e[2].tags[e[1]])&&I.value!==f&&(I.value=f),6&t&&B!==(B=e[2].skins[e[1]])&&y.value!==B&&(y.value=B),8&t&&(0,T.jXN)(E,E=e[3])?(D.d(1),(D=R(e)).c(),D.m(b,Q)):D.p(e,t),32&t&&(0,T.jXN)(x,x=e[5])?(F.d(1),(F=U(e)).c(),F.m(b,null)):F.p(e,t)},d(e){e&&((0,T.YoD)(i),(0,T.YoD)(g),(0,T.YoD)(u)),D.d(e),F.d(e),(k=!1,T.oOW)(N)}}}function r(s){let i,n,o,a,r,l,A,c,h,d,g,u,p,m,C,w=s[1],I,f,v,y=(p=new B.A({}),S(s));return{c(){i=(0,T.ND4)("div"),n=(0,T.ND4)("div"),o=(0,T.ND4)("i"),a=(0,T.xem)(),r=(0,T.ND4)("i"),l=(0,T.xem)(),A=(0,T.ND4)("i"),c=(0,T.xem)(),h=(0,T.ND4)("i"),d=(0,T.xem)(),g=(0,T.ND4)("i"),u=(0,T.xem)(),(0,T.N0i)(p.$$.fragment),m=(0,T.xem)(),C=(0,T.ND4)("div"),y.c(),(0,T.CFu)(o,"data-tip","Settings"),(0,T.CFu)(o,"class","tab fal fa-cog"),(0,T.CFu)(r,"data-tip","Theming"),(0,T.CFu)(r,"class","tab fal fa-palette"),(0,T.CFu)(A,"data-tip","Hotkeys"),(0,T.CFu)(A,"class","tab fal fa-keyboard"),(0,T.CFu)(h,"data-tip","Replays"),(0,T.CFu)(h,"class","tab fal fa-video"),(0,T.CFu)(g,"data-tip","Player leaderboards"),(0,T.CFu)(g,"class","tab fal fa-clipboard-list"),(0,T.CFu)(n,"class","tabs"),(0,T.CFu)(C,"class","inner-container s-1l4aaom"),(0,T.CFu)(i,"class","player-container container menu-tab s-1l4aaom")},m(e,t){(0,T.Yry)(e,i,t),(0,T.BCw)(i,n),(0,T.BCw)(n,o),(0,T.BCw)(n,a),(0,T.BCw)(n,r),(0,T.BCw)(n,l),(0,T.BCw)(n,A),(0,T.BCw)(n,c),(0,T.BCw)(n,h),(0,T.BCw)(n,d),(0,T.BCw)(n,g),(0,T.BCw)(i,u),(0,T.wSR)(p,i,null),(0,T.BCw)(i,m),(0,T.BCw)(i,C),y.m(C,null),I=!0,f||(v=[(0,T.KTR)(o,"click",s[6]),(0,T.KTR)(r,"click",s[7]),(0,T.KTR)(A,"click",s[8]),(0,T.KTR)(h,"click",s[9]),(0,T.KTR)(g,"click",s[10])],f=!0)},p(e,[t]){2&t&&(0,T.jXN)(w,w=e[1])?(y.d(1),(y=S(e)).c(),y.m(C,null)):y.p(e,t)},i(e){I||((0,T.c7F)(p.$$.fragment,e),I=!0)},o(e){(0,T.Tn8)(p.$$.fragment,e),I=!1},d(e){e&&(0,T.YoD)(i),(0,T.Hbl)(p),y.d(e),(f=!1,T.oOW)(v)}}}let h=(0,i.T5)(o.A.inputs),d=(h.subscribe(()=>o.A.storeInputs()),c.pB.set("Play as tab "+(1+(0,i.Jt)(c.xR))),o.A.on("setting-changed",(e,t)=>{"activeTabContext"===e&&(c.xR.set(t),e="Play as tab "+(1+(0,i.Jt)(c.xR)),(0,i.Jt)(c.pB)!=e)&&c.pB.set(e)}),()=>{c.xR.set(0==(0,i.Jt)(c.xR)?1:0),o.A.set("activeTabContext",(0,i.Jt)(c.xR))}),g=()=>{var e;(0,i.Jt)(c.qC)&&!a.A.connection.spawnRequested&&(a.A.running&&a.A.connection.connected?(a.A.actions.join(),a.A.setMenuVisibility(!1)):n.A.selectedServer&&(a.A.emit("connect-server",e={}),e.wait||(a.A.connection.spawnRequested=!0)))},l=()=>{var e;(0,i.Jt)(c.m7)&&!a.A.connection.spectateRequested&&(a.A.running&&a.A.connection.connected?(a.A.actions.spectate(),a.A.setMenuVisibility(!1)):n.A.selectedServer&&(a.A.emit("connect-server",e={}),e.wait||(a.A.connection.spectateRequested=!0)))},M=(a.A.on("skin-set",t=>{h.update(e=>(e.skins[(0,i.Jt)(c.xR)]=t,e))}),e=>{let t=e.target;h.update(e=>(e.names[(0,i.Jt)(c.xR)]=t.value,e))}),Y=e=>{e=e.target;a.A.emit("skin-set",e.value),o.A.storeInputs()},L=e=>{let t=e.target;h.update(e=>(e.tags[(0,i.Jt)(c.xR)]=t.value,e))},P=e=>{e=e.currentTarget;a.A.emit("skin-changed",e.src="https://skins.vanis.io/s/vanis1")};function u(e,t,s){let i,n,o,a,r,l;(0,T.j0C)(e,A.E,e=>s(0,i=e)),(0,T.j0C)(e,c.xR,e=>s(1,n=e)),(0,T.j0C)(e,h,e=>s(2,o=e)),(0,T.j0C)(e,c.qC,e=>s(3,a=e)),(0,T.j0C)(e,c.pB,e=>s(4,r=e)),(0,T.j0C)(e,c.m7,e=>s(5,l=e));return[i,n,o,a,r,l,()=>(0,T.vu6)(A.E,i=A.b.Settings,i),()=>(0,T.vu6)(A.E,i=A.b.Themes,i),()=>{console.log("Selected hotkeys tab"),A.E.set(A.b.Inputs)},()=>A.E.set(A.b.Replays),()=>A.E.set(A.b.Leaderboard),()=>d(),()=>d()]}class p extends T.r7T{constructor(e){super(),(0,T.TsN)(this,e,u,r,T.jXN,{})}}let m=p},43228:(e,t,s)=>{s.d(t,{A:()=>x});var p=s(83839),A=(s(60821),s(47665));function r(e,t,s){e=e.slice();return e[10]=t[s],e[11]=t,e[12]=s,e}function l(e,t,s){e=e.slice();return e[13]=t[s],e[15]=s,e}function c(e,t,s){e=e.slice();return e[13]=t[s],e[15]=s,e}function h(e,t,s){e=e.slice();return e[17]=t[s],e}function d(s){let i,n,o;function a(){return s[5](s[17])}return{c(){(i=(0,p.ND4)("div")).textContent=s[17]+" ",(0,p.CFu)(i,"class","tab"),(0,p.goL)(i,"active",s[17]===s[0])},m(e,t){(0,p.Yry)(e,i,t),n||(o=(0,p.KTR)(i,"click",a),n=!0)},p(e,t){s=e,1&t&&(0,p.goL)(i,"active",s[17]===s[0])},d(e){e&&(0,p.YoD)(i),n=!1,o()}}}function u(s){let i,n,o,a=s[1].visible,r,l,A,c,h=g(s),d=s[1].visible&&m(s);return{c(){i=(0,p.ND4)("div"),(n=(0,p.ND4)("div")).innerHTML='<i class="fal fa-trophy"></i> <span style="padding-left:5px;">Tournaments</span>',o=(0,p.xem)(),h.c(),r=(0,p.xem)(),d&&d.c(),l=(0,p.Iex)(),(0,p.CFu)(n,"class","server-name s-1oys449"),(0,p.CFu)(i,"class","server-item s-1oys449")},m(e,t){(0,p.Yry)(e,i,t),(0,p.BCw)(i,n),(0,p.BCw)(i,o),h.m(i,null),(0,p.Yry)(e,r,t),d&&d.m(e,t),(0,p.Yry)(e,l,t),A||(c=(0,p.KTR)(i,"click",s[6]),A=!0)},p(e,t){2&t&&(0,p.jXN)(a,a=e[1].visible)?(h.d(1),(h=g(e)).c(),h.m(i,null)):h.p(e,t),e[1].visible?d?d.p(e,t):((d=m(e)).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},d(e){e&&((0,p.YoD)(i),(0,p.YoD)(r),(0,p.YoD)(l)),h.d(e),d&&d.d(e),A=!1,c()}}}function g(e){let s,i;return{c(){s=(0,p.ND4)("i"),(0,p.CFu)(s,"class",i="fal fa-chevron-"+(e[1].visible?"up":"down"))},m(e,t){(0,p.Yry)(e,s,t)},p(e,t){2&t&&i!==(i="fal fa-chevron-"+(e[1].visible?"up":"down"))&&(0,p.CFu)(s,"class",i)},d(e){e&&(0,p.YoD)(s)}}}function m(t){let n,o=(0,p.rv_)(t[1].regionServers),a=[];for(let e=0;e<o.length;e+=1)a[e]=w(c(t,o,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();n=(0,p.Iex)()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);(0,p.Yry)(t,n,s)},p(t,s){if(6&s){o=(0,p.rv_)(t[1].regionServers);let e;for(e=0;e<o.length;e+=1){var i=c(t,o,e);a[e]?a[e].p(i,s):(a[e]=w(i),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(e){e&&(0,p.YoD)(n),(0,p.ppq)(a,e)}}}function C(){let s;return{c(){(s=(0,p.ND4)("div")).innerHTML='<span class="live-marker">LIVE</span>',(0,p.CFu)(s,"class","live-marker-wrapper")},m(e,t){(0,p.Yry)(e,s,t)},d(e){e&&(0,p.YoD)(s)}}}function w(s){let i,n,o,a,e,r,l,A=!!s[13].live&&C();function c(){return s[7](s[13])}return{c(){i=(0,p.ND4)("div"),(n=(0,p.ND4)("div")).textContent=""+s[13].name,o=(0,p.xem)(),A&&A.c(),a=(0,p.xem)(),(0,p.CFu)(n,"class","server-name s-1oys449"),(0,p.CFu)(i,"data-key",e=s[15]),(0,p.CFu)(i,"class","server-item s-1oys449"),(0,p.goL)(i,"active",s[13].url===s[2])},m(e,t){(0,p.Yry)(e,i,t),(0,p.BCw)(i,n),(0,p.BCw)(i,o),A&&A.m(i,null),(0,p.BCw)(i,a),r||(l=(0,p.KTR)(i,"click",c),r=!0)},p(e,t){(s=e)[13].live?A||((A=C()).c(),A.m(i,a)):A&&(A.d(1),A=null),6&t&&(0,p.goL)(i,"active",s[13].url===s[2])},d(e){e&&(0,p.YoD)(i),A&&A.d(),r=!1,l()}}}function n(s){let i,n,o,a=s[10].visible,r,l=s[10].visible||s[10].regionServers.some(s[4]),A,c,h,d=I(s);function g(){return s[8](s[10],s[11],s[12])}let u=l&&f(s);return{c(){i=(0,p.ND4)("div"),(n=(0,p.ND4)("div")).textContent=""+s[10].name,o=(0,p.xem)(),d.c(),r=(0,p.xem)(),u&&u.c(),A=(0,p.Iex)(),(0,p.CFu)(n,"class","server-name s-1oys449"),(0,p.CFu)(i,"class","server-item s-1oys449")},m(e,t){(0,p.Yry)(e,i,t),(0,p.BCw)(i,n),(0,p.BCw)(i,o),d.m(i,null),(0,p.Yry)(e,r,t),u&&u.m(e,t),(0,p.Yry)(e,A,t),c||(h=(0,p.KTR)(i,"click",g),c=!0)},p(e,t){s=e,8&t&&(0,p.jXN)(a,a=s[10].visible)?(d.d(1),(d=I(s)).c(),d.m(i,null)):d.p(s,t),(l=12&t?s[10].visible||s[10].regionServers.some(s[4]):l)?u?u.p(s,t):((u=f(s)).c(),u.m(A.parentNode,A)):u&&(u.d(1),u=null)},d(e){e&&((0,p.YoD)(i),(0,p.YoD)(r),(0,p.YoD)(A)),d.d(e),u&&u.d(e),c=!1,h()}}}function I(e){let s,i;return{c(){s=(0,p.ND4)("i"),(0,p.CFu)(s,"class",i="fal fa-chevron-"+(e[10].visible?"up":"down"))},m(e,t){(0,p.Yry)(e,s,t)},p(e,t){8&t&&i!==(i="fal fa-chevron-"+(e[10].visible?"up":"down"))&&(0,p.CFu)(s,"class",i)},d(e){e&&(0,p.YoD)(s)}}}function f(t){let n,o=(0,p.rv_)(t[10].regionServers),a=[];for(let e=0;e<o.length;e+=1)a[e]=B(l(t,o,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();n=(0,p.Iex)()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);(0,p.Yry)(t,n,s)},p(t,s){if(12&s){o=(0,p.rv_)(t[10].regionServers);let e;for(e=0;e<o.length;e+=1){var i=l(t,o,e);a[e]?a[e].p(i,s):(a[e]=B(i),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(e){e&&(0,p.YoD)(n),(0,p.ppq)(a,e)}}}function v(e){let s;return{c(){(s=(0,p.ND4)("div")).textContent=e[13].players+" / "+e[13].slots,(0,p.CFu)(s,"class","slot-badge s-1oys449")},m(e,t){(0,p.Yry)(e,s,t)},p:p.lQ1,d(e){e&&(0,p.YoD)(s)}}}function y(e){let s;return{c(){(s=(0,p.ND4)("div")).innerHTML='<span class="live-marker">LIVE</span>',(0,p.CFu)(s,"class","live-marker-wrapper")},m(e,t){(0,p.Yry)(e,s,t)},p:p.lQ1,d(e){e&&(0,p.YoD)(s)}}}function B(s){let i,n,o,a,e,r,l;function A(e){return e[13].live?y:v}let c=A(s),h=c(s);function d(){return s[9](s[13])}return{c(){i=(0,p.ND4)("div"),(n=(0,p.ND4)("div")).textContent=""+s[13].name,o=(0,p.xem)(),h.c(),a=(0,p.xem)(),(0,p.CFu)(n,"class","server-name s-1oys449"),(0,p.CFu)(i,"data-key",e=s[15]),(0,p.CFu)(i,"class","server-item s-1oys449"),(0,p.goL)(i,"active",s[13].url===s[2])},m(e,t){(0,p.Yry)(e,i,t),(0,p.BCw)(i,n),(0,p.BCw)(i,o),h.m(i,null),(0,p.BCw)(i,a),r||(l=(0,p.KTR)(i,"click",d),r=!0)},p(e,t){s=e,c===(c=A(s))&&h?h.p(s,t):(h.d(1),(h=c(s))&&(h.c(),h.m(i,a))),12&t&&(0,p.goL)(i,"active",s[13].url===s[2])},d(e){e&&(0,p.YoD)(i),h.d(),r=!1,l()}}}function S(e){let s,i=0<e[10].regionServers.length&&n(e);return{c(){i&&i.c(),s=(0,p.Iex)()},m(e,t){i&&i.m(e,t),(0,p.Yry)(e,s,t)},p(e,t){0<e[10].regionServers.length?i?i.p(e,t):((i=n(e)).c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(e){e&&(0,p.YoD)(s),i&&i.d(e)}}}function b(t){let n,o=(0,p.rv_)(t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=S(r(t,o,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();n=(0,p.Iex)()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);(0,p.Yry)(t,n,s)},p(t,s){if(12&s){o=(0,p.rv_)(t[3]);let e;for(e=0;e<o.length;e+=1){var i=r(t,o,e);a[e]?a[e].p(i,s):(a[e]=S(i),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(e){e&&(0,p.YoD)(n),(0,p.ppq)(a,e)}}}function E(e){let s,i,n,o,a,r,l,A=e[2],c,h,d=null!=e[1]&&0<e[1].regionServers.length&&u(e),g=b(e);return{c(){s=(0,p.ND4)("div"),i=(0,p.ND4)("div"),(n=(0,p.ND4)("div")).innerHTML='<i class="fal fa-user"></i> <span style="padding-left:5px;">Lobbies</span>',o=(0,p.xem)(),a=(0,p.ND4)("i"),r=(0,p.xem)(),d&&d.c(),l=(0,p.xem)(),g.c(),(0,p.CFu)(n,"class","server-name s-1oys449"),(0,p.CFu)(a,"class","fal fa-chevron-down"),(0,p.CFu)(i,"class","server-item s-1oys449"),(0,p.CFu)(s,"class","server-list s-1oys449")},m(e,t){(0,p.Yry)(e,s,t),(0,p.BCw)(s,i),(0,p.BCw)(i,n),(0,p.BCw)(i,o),(0,p.BCw)(i,a),(0,p.BCw)(s,r),d&&d.m(s,null),(0,p.BCw)(s,l),g.m(s,null),c||(h=(0,p.KTR)(i,"click",Q),c=!0)},p(e,t){null!=e[1]&&0<e[1].regionServers.length?d?d.p(e,t):((d=u(e)).c(),d.m(s,l)):d&&(d.d(1),d=null),4&t&&(0,p.jXN)(A,A=e[2])?(g.d(1),(g=b(e)).c(),g.m(s,null)):g.p(e,t)},d(e){e&&(0,p.YoD)(s),d&&d.d(),g.d(e),c=!1,h()}}}function i(t){let n,o,s,e=t[0],a=(0,p.rv_)(A.pc.regions),r=[];for(let e=0;e<a.length;e+=1)r[e]=d(h(t,a,e));let l=E(t);return{c(){n=(0,p.ND4)("div"),o=(0,p.ND4)("div");for(let e=0;e<r.length;e+=1)r[e].c();s=(0,p.xem)(),l.c(),(0,p.CFu)(o,"class","tabs"),(0,p.CFu)(n,"class","servers container menu-tab s-1oys449")},m(e,t){(0,p.Yry)(e,n,t),(0,p.BCw)(n,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(o,null);(0,p.BCw)(n,s),l.m(n,null)},p(t,[s]){if(1&s){a=(0,p.rv_)(A.pc.regions);let e;for(e=0;e<a.length;e+=1){var i=h(t,a,e);r[e]?r[e].p(i,s):(r[e]=d(i),r[e].c(),r[e].m(o,null))}for(;e<r.length;e+=1)r[e].d(1);r.length=a.length}1&s&&(0,p.jXN)(e,e=t[0])?(l.d(1),(l=E(t)).c(),l.m(n,null)):l.p(t,s)},i:p.lQ1,o:p.lQ1,d(e){e&&(0,p.YoD)(n),(0,p.ppq)(r,e),l.d(e)}}}let Q=()=>{};function o(e,t,s){let i,n,o,a;(0,p.j0C)(e,A.aK,e=>s(0,i=e)),(0,p.j0C)(e,A.AQ,e=>s(1,n=e)),(0,p.j0C)(e,A.BA,e=>s(2,o=e)),(0,p.j0C)(e,A.oo,e=>s(3,a=e));return[i,n,o,a,e=>e.url==o,e=>A.pc.selectRegion(e),()=>A.AQ.update(e=>(e.toggleVisibility(),e)),e=>A.pc.join(e),(e,t,s)=>(0,p.vu6)(A.oo,t[s]=e,a).toggleVisibility(),e=>A.pc.join(e)]}class a extends p.r7T{constructor(e){super(),(0,p.TsN)(this,e,o,i,p.jXN,{})}}let x=a},20990:(e,t,s)=>{s.d(t,{A:()=>g});var y=s(83839),c=(s(60821),s(84293)),a=s(98781),h=s(78258),d=s(57346);function r(e,t,s){e=e.slice();return e[14]=t[s],e[16]=s,e}function l(s){let i,n,o,a,r,l,A;function c(...e){return s[10](s[16],...e)}function h(...e){return s[11](s[16],...e)}return{c(){i=(0,y.ND4)("div"),(n=(0,y.ND4)("span")).textContent=""+s[14],o=(0,y.xem)(),(a=(0,y.ND4)("span")).textContent=""+s[6](d.Ay.get(s[5][s[16]])),r=(0,y.xem)(),(0,y.CFu)(n,"class","name s-16skz7r"),(0,y.CFu)(a,"class","bind s-16skz7r"),(0,y.CFu)(a,"tabindex","0"),(0,y.CFu)(i,"class","row s-16skz7r")},m(e,t){(0,y.Yry)(e,i,t),(0,y.BCw)(i,n),(0,y.BCw)(i,o),(0,y.BCw)(i,a),(0,y.BCw)(i,r),l||(A=[(0,y.KTR)(a,"keydown",c),(0,y.KTR)(a,"mousedown",h)],l=!0)},p(e,t){s=e},d(e){e&&(0,y.YoD)(i),(l=!1,y.oOW)(A)}}}function B(t){let n,o=(0,y.rv_)(t[4]),a=[];for(let e=0;e<o.length;e+=1)a[e]=l(r(t,o,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();n=(0,y.Iex)()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);(0,y.Yry)(t,n,s)},p(t,s){if(496&s){o=(0,y.rv_)(t[4]);let e;for(e=0;e<o.length;e+=1){var i=r(t,o,e);a[e]?a[e].p(i,s):(a[e]=l(i),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(e){e&&(0,y.YoD)(n),(0,y.ppq)(a,e)}}}function A(s){let i,n,o,a,r,l,A,c,h,d,g,u,p,m,C,w=s[1],I,f,v=B(s);return{c(){i=(0,y.ND4)("div"),n=(0,y.ND4)("div"),(o=(0,y.ND4)("span")).textContent="Inputs",a=(0,y.xem)(),r=(0,y.ND4)("div"),l=(0,y.ND4)("select"),(A=(0,y.ND4)("option")).textContent="Tab",(c=(0,y.ND4)("option")).textContent="Minion",h=(0,y.xem)(),d=(0,y.ND4)("div"),g=(0,y.ND4)("div"),u=(0,y.xem)(),(p=(0,y.ND4)("button")).innerHTML='<i class="fal fa-times"></i>',m=(0,y.xem)(),C=(0,y.ND4)("div"),v.c(),(0,y.CFu)(o,"class","header-label s-16skz7r"),A.__value="0",(0,y.Gvd)(A,A.__value),A.selected=!0,c.__value="1",(0,y.Gvd)(c,c.__value),c.disabled=!0,(0,y.CFu)(l,"name","tabid"),(0,y.CFu)(r,"class","tab-selection s-16skz7r"),(0,y.CFu)(g,"class","seperator s-16skz7r"),(0,y.CFu)(p,"class","close button s-16skz7r"),(0,y.CFu)(d,"class","buttons s-16skz7r"),(0,y.CFu)(n,"class","modal-header s-16skz7r"),(0,y.CFu)(C,"class","binds"),(0,y.CFu)(i,"class","inner-content s-16skz7r")},m(e,t){(0,y.Yry)(e,i,t),(0,y.BCw)(i,n),(0,y.BCw)(n,o),(0,y.BCw)(n,a),(0,y.BCw)(n,r),(0,y.BCw)(r,l),(0,y.BCw)(l,A),(0,y.BCw)(l,c),(0,y.BCw)(n,h),(0,y.BCw)(n,d),(0,y.BCw)(d,g),(0,y.BCw)(d,u),(0,y.BCw)(d,p),(0,y.BCw)(i,m),(0,y.BCw)(i,C),v.m(C,null),I||(f=(0,y.KTR)(p,"click",s[9]),I=!0)},p(e,t){2&t&&(0,y.jXN)(w,w=e[1])?(v.d(1),(v=B(e)).c(),v.m(C,null)):v.p(e,t)},d(e){e&&(0,y.YoD)(i),v.d(e),I=!1,f()}}}function i(t){let i,n,s;function e(e){t[12](e)}var o={$$slots:{default:[A]},$$scope:{ctx:t}};return void 0!==t[2]&&(o.show=t[2]),i=new a.A({props:o}),y.Dnk.push(()=>(0,y.oIE)(i,"show",e)),i.$on("visibility",t[3]),{c(){(0,y.N0i)(i.$$.fragment)},m(e,t){(0,y.wSR)(i,e,t),s=!0},p(e,[t]){var s={};131075&t&&(s.$$scope={dirty:t,ctx:e}),!n&&4&t&&(n=!0,s.show=e[2],(0,y.Jk$)(()=>n=!1)),i.$set(s)},i(e){s||((0,y.c7F)(i.$$.fragment,e),s=!0)},o(e){(0,y.Tn8)(i.$$.fragment,e),s=!1},d(e){(0,y.Hbl)(i,e)}}}function n(e,t,i){let s;let n;(0,y.j0C)(e,c.E,e=>i(0,n=e));let o=Object.keys(d.Mf),a=Object.values(d.Mf);let r=!1,l=(e,t)=>{var s;e.target===document.activeElement&&(s="MOUSE"+e.button,d.Ay.set(t,s))&&(e.preventDefault(),e.currentTarget.blur(),i(1,r=!r))},A=(e,t)=>{e.preventDefault();let s=d.Ay.translateKey(e.code);if("ESCAPE"===s||"ENTER"===s)return e.currentTarget.blur();"DELETE"===s&&(s=""),d.Ay.set(t,s)&&(e.currentTarget.blur(),i(1,r=!r))};return e.$$.update=()=>{1&e.$$.dirty&&i(2,s=n===c.b.Inputs)},h.A.get("switchControlMode"),[n,r,s,e=>{(0,y.vu6)(c.E,n=e.detail?c.b.Inputs:c.b.None,n)},o,a,e=>{switch(e=(e=e||"").toLowerCase()){case"mouse0":return"Left Click";case"mouse1":return"Middle Click";case"mouse2":return"Right Click";case"arrowup":return"Up arrow";case"arrowdown":return"Down arrow";case"arrowleft":return"Left arrow";case"arrowright":return"Right arrow";case"":return"None";default:if(e.startsWith("mouse")){var t=+e.split("mouse")[1]-2;if(!Number.isNaN(t))return"Macro "+t}return 1<e.length?e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase():e.toUpperCase()}},l,A,()=>(0,y.vu6)(c.E,n=c.b.None,n),(e,t)=>A(t,a[e]),(e,t)=>l(t,a[e]),function(e){s=e,i(2,s),i(0,n)}]}class o extends y.r7T{constructor(e){super(),(0,y.TsN)(this,e,n,i,y.jXN,{})}}let g=o},57265:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(83439),n=s(78258),l=s(42749),o=s(58339),A=s(43263),c=s(74444),h=s(87706),d=s(95826);class a{get type(){return this.view.getUint8(0)}set type(e){this.view.setUint8(0,e)}get flags(){return this.view.getUint8(1)}set flags(e){this.view.setUint8(1,e)}get id(){return this.view.getUint16(2,!0)}set id(e){this.view.setUint16(2,e,!0)}get size(){return this.view.getUint16(16)}set size(e){this.view.setUint16(16,e)}get oldSize(){return this.view.getUint16(18)}set oldSize(e){this.view.setUint16(18,e)}get newSize(){return this.view.getUint16(20)}set newSize(e){this.view.setUint16(20,e)}get updateStamp(){return o.T9(...this.updateStamps)}constructor(e,t,s,i,n,o,a,r){this.buffer=new ArrayBuffer(22),this.view=new DataView(this.buffer),this.position=d.A.fromBuffer(new Int16Array(this.buffer,12,2)),this.oldPosition=d.A.fromBuffer(new Int16Array(this.buffer,4,2)),this.newPosition=d.A.fromBuffer(new Int16Array(this.buffer,8,2)),this.scale=1,this.updateStamps=[-1,-1],this.shared=new A.m(this),this.type=e,this.id=t||0,this.texture=s=s||l.WK.get(0);e=this.sprite=new h.Sprite(s);e.anchor.set(.5),(e.gameData=this).position.set(i,n),this.position.copy(this.oldPosition),this.position.copy(this.newPosition),e.position.set(i,n),this.newSize=this.oldSize=this.size=o,this.flags=a,this.context=r,c.DH.add(this)}get mass(){return o.LI(o.n7(this.newSize/10,2))}update(e){var t,e=e-this.updateStamp,e=(0,i.N)(e/n.A.get("drawDelay"),0,1),e=(this.position.set((0,i.Cc)(this.oldPosition.x,this.newPosition.x,e*this.scale),(0,i.Cc)(this.oldPosition.y,this.newPosition.y,e*this.scale)),2*(this.size=(0,i.Cc)(this.oldSize,this.newSize,e)));return!!this.texture.clearedFromCache||!!(null==(t=this.sprite)||this.position.equalTo(t.x,t.y)&&t.width===e)||(t.x=this.position.x,t.y=this.position.y,t.width=t.height=e,this.onUpdate?.(),!1)}destroy(e){0==this.shared.size&&(c.Ab.forEach(e=>e.delete(this.id)),this.destroyed)||(this.destroyed=!0,c.DH.remove(this),this.onDestroy?.(),e?c.nf[this.context].add(this):this.destroySprite())}destroySprite(){this.sprite?(this.sprite.destroy(),this.sprite=null):(0,i.$s)(1,`Sprite for cell "${this.id}" already destroyed!`)}}},61312:(e,t,s)=>{var i=s(57265);s(88732),s(87706),s(49544);(class extends i.A{})},44974:(e,t,s)=>{s.d(t,{A:()=>i});var t=s(57265),r=s(88732),l=s(87706);s(63166);class i extends t.A{constructor(e,t,s,i,n,o){var a=l.Texture.from("/img/crown.png");super(r.QG,e,a,t,s,i,n,o),this.isCrown=!0,this.sprite.alpha=.7}}},35492:(e,t,s)=>{s.d(t,{A:()=>i});var t=s(57265),l=s(88732),A=s(42749);class i extends t.A{constructor(e,t,s,i,n,o,a=!0,r=4210752){a=(a?A.WK:A.lw).get(r);super(l.rn,e,a,t,s,i,n,o),this.isDead=!0,this.sprite.alpha=.5,this.type=l.rn}}},66710:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(78258),t=s(57265),l=s(88732),i=s(42749),n=s(83439),o=s(68642);let A=()=>i.WK.get(parseInt(r.A.get("ejectedColor"),16));class c extends t.A{static setRunningGame(e){let t=new o.I(300);c.animator=t,e.on("started",()=>t.start()),e.on("stopped",()=>t.stop())}constructor(e,t,s,i,n,o){var a=A();super(l.do,e,a,t,s,i,n,o),this.isEjected=!0,r.A.get("animateEjectedCells")&&c.animator.addSprite(this.sprite,.2)}reloadTexture(){this.sprite.texture=this.texture=A()}update(e){var e=e-this.updateStamp,e=(0,n.N)(e/r.A.get("drawDelay"),0,1),e=(this.position.set((0,n.Cc)(this.oldPosition.x,this.newPosition.x,e),(0,n.Cc)(this.oldPosition.y,this.newPosition.y,e)),2*(this.size=this.newSize)),t=this.sprite;return!!(null==t||this.position.equalTo(t.x,t.y)&&t.width==e)||(t.x=this.position.x,t.y=this.position.y,t.width=t.height=e,!1)}onDestroy(){r.A.get("animateEjectedCells")&&this.sprite&&c.animator.removeSprite(this.sprite)}}},40273:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(42749),n=s(31024),t=s(57265),r=s(88732),o=s(78258);let l=e=>i.WK.get(o.A.get("useFoodColor")?parseInt(o.A.get("foodColor"),16):n.pz.at(e%n.pz.length));class a extends t.A{constructor(e,t,s,i,n,o){var a=l(e);super(r.xV,e,a,t,s,i,n,o),this.isFood=!0}reloadTexture(){this.sprite.texture=this.texture=l(this.id)}update(){this.position.set(this.newPosition);var e=2*(this.size=this.newSize),t=this.sprite;return!!(null==t||this.position.equalTo(t.x,t.y)&&t.width==e)||(t.x=this.position.x,t.y=this.position.y,t.width=t.height=e,!1)}}},27241:(e,t,s)=>{s.d(t,{No:()=>a.A,Oe:()=>l.A,hN:()=>r.A,kF:()=>i.A,ub:()=>n.A,xx:()=>o.A});var i=s(83385),n=s(28464),o=s(66710),a=s(40273),r=s(35492),l=s(44974);s(61312)},83385:(e,t,s)=>{s.d(t,{A:()=>h});var r=s(78258),t=s(57265),l=s(88732),o=s(52875),i=s(83439),A=s(42749),c=s(63400),n=s(68642),a=s(87706);class h extends t.A{static setRunningGame(e){let t=h.animator=new n.I(500);e.on("started",()=>t.start()),e.on("stopped",()=>t.stop()),h.game=e}constructor(e,t,s,i,n,o,a){super(l.g4,e,o.texture||A.WK.get(0),t,s,i,n,a),this.isPlayerCell=!0,this.player=o,this.pid=o.pid,c.A.pids.forEach(e=>e===this.pid&&h.game.ownedCells.add(this)),o.hasCrown&&this.addCrown(),r.A.get("animatePlayerCells")&&h.animator.addSprite(this.sprite,.5)}addCrown(){var e;this.crownSprite?(0,i.$s)(1,"addCrown(): crown already exists"):this.sprite.addChild(this.crownSprite=h.game.crownPool.pop()||((e=a.Sprite.from("/img/crown.png")).scale.set(.7),e.pivot.set(0,643),e.anchor.x=.5,e.rotation=-.5,e.alpha=.7,e.zIndex=2,e))}removeCrown(){var e=this.crownSprite;e?(this.sprite.removeChild(e),h.game.crownPool.push(e),delete this.crownSprite):(0,i.$s)(1,"removeCrown(): crown doesnt exist")}onUpdate(){var e,t,s=h.game,i=s.scene.container.scale.x*this.size*s.renderer.resolution,n=i>r.A.get("smallTextThreshold");n&&(this.player.massShown&&!this.massText&&(this.massText=s.massTextPool.pop()||(e=new a.BitmapText("",{fontName:"mass",align:"right"}),t=r.A.massTextStyle.strokeThickness||0,e.position.set(-t/2,-t/2),e.anchor.set(.5,-.6),e),this.massText.zIndex=0,this.sprite.addChild(this.massText)),this.player.nameShown)&&!this.nameSprite&&null!=this.player.nameSprite&&(this.nameSprite=new a.Sprite(this.player.nameSprite.texture),this.nameSprite.anchor.set(.5),this.player instanceof o.A||(this.nameSprite.anchor.y=4),this.nameSprite.zIndex=1,this.sprite.addChild(this.nameSprite)),null!=this.crownSprite&&(this.crownSprite.visible=16<i&&r.A.get("showCrown")),null!=this.nameSprite&&(this.nameSprite.visible=this.player.nameShown&&n),null!=this.massText&&(this.player.massShown&&n?(this.massText.text=s.getMassText(this.mass),this.massText.visible=!0):this.massText.visible&&(this.massText.visible=!1))}onDestroy(){r.A.get("animatePlayerCells")&&h.animator.removeSprite(this.sprite);var e=h.game;e.ownedCells.has(this)&&e.ownedCells.delete(this),this.massText&&(this.sprite.removeChild(this.massText),e.massTextPool.push(this.massText)),this.crownSprite&&this.removeCrown()}}},74444:(e,t,s)=>{s.d(t,{Ab:()=>o,DH:()=>a,nf:()=>n});var t=s(64830),s=Math.pow(2,14),i=Math.pow(2,15);let n=[new t.A(s),new t.A(s)],o=[new Map,new Map],a=new t.A(i)},88732:(e,t,s)=>{s.d(t,{QG:()=>l,Sq:()=>n,do:()=>o,eL:()=>c,g4:()=>i,hH:()=>A,rn:()=>r,xV:()=>a});let[i,n,o,a,r,l,A,c]=[1,2,3,4,5,6,7,9]},23005:(e,t,s)=>{s.d(t,{A:()=>o});let i=s(87706),n=i.Ticker.shared;class o{constructor(){this.running=!1,this.tickerCallback=null}setCallback(e){this.running&&null!=this.tickerCallback&&(n.remove(this.tickerCallback),this.running=!1),this.tickerCallback=e}start(){n.add(this.tickerCallback),this.running=!0}stop(){n.remove(this.tickerCallback),this.running=!1}}},31024:(e,t,s)=>{s.d(t,{O$:()=>a,cy:()=>r,ic:()=>o,oZ:()=>l,pz:()=>n});var i=s(83439);let n=[16776960,65280,65535,16711935],o=[16711680,16744448,16776960,8453888,65280,65408,65535,33023,8388863,16711935,16711808],a=o.map(e=>(0,i.v2)(e,.8)),r=a.map(e=>(0,i.v2)(e,.7)),l=a.map(e=>(0,i.v2)(e,.7))},68642:(e,t,s)=>{s.d(t,{I:()=>n});var t=s(23005),i=s(87706);class n extends t.A{constructor(e){super(),this.animate=s=>{this.spriteQueue.forEach(e=>{var t=s/i.settings.TARGET_FPMS;(e.alpha+=t/this.fadeAmount)<1||this.spriteQueue.delete(e)})},this.spriteQueue=new Set,this.fadeAmount=e,this.setCallback(this.animate.bind(this))}addSprite(e,t){e.alpha=t,this.spriteQueue.add(e)}removeSprite(e){this.spriteQueue.delete(e)}stop(){super.stop(),this.spriteQueue.clear()}}},64830:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(83439);class n{constructor(e){this.values=()=>this.data.slice(0,this._length).filter(e=>void 0!==e),this.get=e=>this.data[e],this.data=new Array(e),this.size=e,this._length=0}clear(){this.data.fill(void 0),this._length=0}add(e){(0,i.X0)(this._length<this.size,"FastArray instance is overpopulated?"),this.data[this._length++]=e}has(e){let t=0;for(var s=this._length;t<s;)if(this.data[t++]===e)return!0;return!1}delete(e){let t=e;for(var s=this._length-1;t<s;)this.data[t]=this.data[t+1],t++;delete this.data[--this._length]}remove(e){let t=0;for(var s=this._length;t<s;){if(this.data[t]===e)return this.delete(t),!0;t++}return!1}*[Symbol.iterator](){for(let e=0;e<this._length;e++){var t=this.data[e];void 0!==t&&(yield{value:t,remove:()=>this.delete(e)})}}get length(){return this._length}}},43263:(e,t,s)=>{s.d(t,{m:()=>i});var n=s(74444);class i extends Set{constructor(e){super(),this.owner=e}get(){let e=-1;for(var[t,s]of n.Ab.entries())if(s.has(this.owner.id)){e=t;break}return e}migrate(e){if(this.delete(e),0==this.size)return!1;let t;for(var s of this.values()){t=s;break}var i=this["owner"];return i.context=t,n.Ab[t].set(i.id,i),n.Ab[e].delete(i.id),!0}}},28464:(e,t,s)=>{s.d(t,{A:()=>n});var t=s(57265),r=s(88732),l=s(42749),i=s(87706);class n extends t.A{constructor(e,t,s,i,n,o){var a=l.Tb.get();super(r.Sq,e,a,t,s,i,n,o),this.isVirus=!0,this.disabled=!1}resetTexture(){this.destroySprite(),this.texture=l.Tb.get(),this.sprite=new i.Sprite(this.texture),this.sprite.anchor.set(.5),this.sprite.gameData=this}}},41436:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(78258),o=s(63400),a=s(83439),l=s(58339),r=s(26814);class i{constructor(e){this.game=e}spectate(e,t,s){if(!this.game.getConnected(s||o.A.activeContext)||this.game.getAlive(s||o.A.activeContext))return!1;this.game.setSpectating(s||o.A.activeContext,!0),this.game.connection.sendSpectatePacket(e);let i=t?"Spectating "+t:"";return"number"==typeof e?(t=this.game.playerManager.get(e))&&!i&&(i="Spectating "+(t.name||"Unnamed")):i=i||"Spectating largest player",0<i.length&&(i+=` (tab ${1+(s||o.A.activeContext)})`,(0,a.me)(i)),!0}join(){this.game.connection.sendSpawnPacket()}toggleSpectateLock(){this.game.connection.sendToggleSpectateLockPacket()}feed(e){this.game.connection.sendFeedPacket(e)}freezeMouse(e){var t=this["game"];t.running&&((e=null==e?t.mouseFrozenFor<0:e)&&(this.stopMovement(!1),this.lockLinesplit(!1),t.updateMouse(!0),t.connection.sendMousePacket()),t.mouseFrozenFor=e?o.A.activeContext:-1,t.emit("update-cautions",{mouseFrozen:e}))}stopMovement(e){var t=this["game"];t.running&&((e=null==e?t.centralizeCellsFor<0:e)&&(this.freezeMouse(!1),this.lockLinesplit(!1)),t.centralizeCellsFor=e?o.A.activeContext:-1,t.emit("update-cautions",{centralizeCells:e}))}lockLinesplit(e){var t=this["game"];t.running&&((e=null==e?t.stopMovementPacketsFor<0:e)&&(t.updateMouse(),t.connection.sendMousePacket(),t.connection.sendOpcodePacket(15),this.freezeMouse(!1),this.stopMovement(!1)),t.stopMovementPacketsFor=e?o.A.activeContext:-1,t.emit("update-cautions",{lockLinesplit:e}))}lineSplit(){this.unlockTimeout&&(0,r.DJ)(this.unlockTimeout),this.freezeMouse(!0),this.split(3),this.unlockTimeout=(0,r.wg)(()=>{delete this.unlockTimeout,this.freezeMouse(!1)},n.A.get("lineSplitDelay"))}split(e,t){var s=this["game"];s.stopMovementPacketsFor<0&&s.connection.sendMousePacket(),t?(0,r.wg)(this.split.bind(this,e),t):(this.game.connection.sendSplitPacket(e),s.splitCount+=e,s.splitCount<=2?s.disallowMovementStamp=performance.now()+300:(s.disallowMovementStamp=NaN,s.splitCount=0))}zoom(e){var t=this["game"],s=1-n.A.get("cameraZoomSpeed")/100;let i=0;e.detail?i=e.detail/3:e.wheelDelta&&(i=e.wheelDelta/-120);e=l.n7(s,i);t.mouseZoom=(0,a.N)(t.mouseZoom*e,t.mouseZoomMin,1)}setZoomLevel(e){this.game.mouseZoom=.8/l.n7(2,e-1)}switch(){let e=this["game"],t=o.A.activeContext;var s=0==t?1:0,i=e.connections[s];if(!i.opened)return o.A.connectionUrl?(this.game.getSpectating(t)?i.spectateRequested=!0:i.spawnRequested=!0,i.switchRequested=!0,void i.open(o.A.connectionUrl)):(0,a.me)("Connect to a server in the server list.",0,2e3);if(i.connected){if(o.A.activeContext=s,n.A.set("activeTabContext",s),e.smoothingStartStamp=performance.now(),e.getSpectating(t)&&!e.getSpectating(s)&&!e.getAlive(s))return this.spectate();e.getSpectating(s)||e.getAlive(s)||i.sendSpawnPacket(),n.A.get("rememeberEjecting")||(this.feedTimeout&&(0,r.DJ)(this.feedTimeout),this.feedTimeout=(0,r.wg)(()=>{e.getAlive(t)&&e.connections[t].sendFeedPacket(!1)},50)),e.updateOutlines(t,s)}else(0,a.me)(`Tab ${1+s} is still connecting, please wait.`,0,1500)}getPlayerUnderMouse(i){let{x:n,y:o}=this.game.mouse,a=0,r=null;return this.game.playerCells.sort((e,t)=>e.size-t.size).forEach(e=>{var{x:t,y:s}=e.position,t=t-n,s=s-o,t=l.RZ(l.tn(t*t+s*s))-e.size;(i?t<a:t<=0)&&(a=i?t:e.size,r=e)}),r}toggleSkins(e){null==e&&(e=!n.A.get("skinsEnabled")),n.A.set("skinsEnabled",e),this.game.playerManager.invalidateVisibility()}toggleNames(e){null==e&&(e=!n.A.get("namesEnabled")),n.A.set("namesEnabled",e),this.game.playerManager.invalidateVisibility()}toggleMass(e){null==e&&(e=!n.A.get("massEnabled")),n.A.set("massEnabled",e),this.game.playerManager.invalidateVisibility()}toggleFood(e){null==e&&(e=!n.A.get("foodVisible")),n.A.set("foodVisible",e),this.game.scene.food.visible=e}toggleHud(e){null==e&&(e=!n.A.get("showHud")),n.A.set("showHud",e)}toggleChat(e){null==e&&(e=!n.A.get("showChat")),n.A.set("showChat",e);var t=this["game"];t.running&&t.emit("chat-visible",{visible:e})}toggleChatToast(e){void 0===e&&(e=!n.A.get("showChatToast")),n.A.set("showChatToast",e);var t=this["game"];t.running&&t.emit("chat-visible",{visibleToast:e})}selectPlayer(){var e=this.getPlayerUnderMouse(!0);e&&e.pid&&(this.game.selectedPid=e.pid)}}},83554:(e,t,s)=>{var i=s(14098),n=s(24239),o=s(57346),a=s(78258),r=s(95826),l=s(63400);let A=n.yA.view,c=new Set,h=!1,d=(window.addEventListener("blur",()=>c.clear()),e=>(e.preventDefault(),e.returnValue="Are you sure you want to close the page?"));i.A.on("stopped",()=>{window.removeEventListener("beforeunload",d,{capture:!0}),h=!1}),i.A.on("started",()=>{window.addEventListener("beforeunload",d,{capture:!0}),h=!0}),window.addEventListener("resize",()=>{h&&i.A.scene.updatePosition()}),document.body.addEventListener("mousedown",e=>{var t;!h||e.target!==A&&!i.A.getSpectating(l.A.activeContext)&&!document.querySelector(".hud").contains(e.target)||e.target instanceof HTMLInputElement||(i.A.getSpectating(l.A.activeContext)&&0===e.button?(t=i.A.actions.getPlayerUnderMouse())&&i.A.actions.spectate(t.pid):(t="MOUSE"+e.button,o.Ay.press(t)))}),document.body.addEventListener("mouseup",e=>{!h||e.target!==A&&!i.A.getSpectating(l.A.activeContext)&&!document.querySelector(".hud").contains(e.target)||e.target instanceof HTMLInputElement||(e="MOUSE"+e.button,c.delete(e),o.Ay.release(e))}),document.body.addEventListener("mousemove",e=>{var t,s;h&&(e=r.A.from(e.clientX,e.clientY),a.A.get("mouseFreezeSoft")&&({x:t,y:s}=i.A.rawMouse,e.x===t&&e.y===s||i.A.actions.freezeMouse(!1)),i.A.rawMouse.set(e),i.A.updateMouse())}),A.addEventListener("wheel",t=>{if(h)if(t.shiftKey&&i.A.selectedPid){let e=0;t.detail?e=t.detail/3:t.wheelDelta&&(e=t.wheelDelta/-120),void i.A.connection.sendChatMessagePacket(`/mass ${i.A.selectedPid} ${e<0?"+":"-"}5000`)}else i.A.actions.zoom(t)},{passive:!0}),document.body.addEventListener("keydown",e=>{if(h){var t=e.target===A;if(!(!t&&e.target!==document.body||e.target instanceof HTMLInputElement)){t=o.Ay.translateKey(e.code);if(!(e.ctrlKey&&"TAB"===t||c.has(t)))if(c.add(t),"ESCAPE"===t)if(i.A.replaying)c.clear(),i.A.stop(),i.A.setMenuVisibility(!0);else{let s=!0;i.A.deathTimeouts.forEach((e,t)=>{i.A.triggerAutoRespawn(t),s=!1}),s&&i.A.setMenuVisibility()}else"ENTER"===t?i.A.emit("focus-chat"):e.shiftKey&&"adminKeys"in localStorage?"V"===t?i.A.connection.sendChatMessagePacket(`/virus ${i.A.mouse.x} `+i.A.mouse.y):i.A.selectedPid&&("F"===t?i.A.connection.sendChatMessagePacket("/freeze "+i.A.selectedPid):"D"===t&&i.A.connection.sendChatMessagePacket("/ignoreBorders "+i.A.selectedPid)):!i.A.menuVisible&&o.Ay.press(t)&&e.preventDefault()}}}),document.body.addEventListener("keyup",e=>{h&&(e=o.Ay.translateKey(e.code),c.delete(e),o.Ay.release(e))})},14098:(e,t,s)=>{s.d(t,{A:()=>Q});var d=s(63400),g=s(78258),i=s(24239),n=s(42749),o=s(42555),a=s(97885),r=s(95826),u=s(83439),l=s(96491),A=s(74444),c=s(41436),h=s(8416),p=s(24608),m=s(27241),C=s(58339),w=s(26814),I=s(67162),f=s(12474),v=s(54603),y=s(59434),B=s(78060),t=s(37007),t=s.n(t),S=s(77088);class b extends t(){get cellCount(){return this.cellCounts[d.A.activeContext]}get mouse(){return this.mouses[d.A.activeContext]}set splitCount(e){this.splitCounts[d.A.activeContext]=e}set disallowMovementStamp(e){this.disallowMovementStamps[d.A.activeContext]=e}constructor(){super(),this.running=!1,this.centerPosition=r.A.from(0,0),this.scores=[0,0],this.highestScores=[0,0],this.clientProtocol=30,this.app=i.yA,this.renderer=i.Uk,this.skinLoader=new a.A,this.settings=g.A,this.fps=new l.A,this.state=d.A,this.connections=[new h.A(this,0),new h.A(this,1)],this.actions=new c.A(this),this.cellCounts=[0,0],this.ownedCells=new Set,this.rawMouse=r.A.from(),this.mouses=[r.A.from(),r.A.from()],this.massTextPool=[],this.crownPool=[],this.playerManager=new p.A(this),this.splitCounts=[0,0],this.disallowMovementStamps=[NaN,NaN],this.ticksSinceDeath=[0,0],this.deathTimeouts=[],this.flags=0,this.updatePacketStamps=[-1,-1],this.menuVisible=!0,this.replayer=B.A,this.scheduler=new f.A,this.onTick=e=>{this.dt=e;e=this.renderStamp=performance.now();d.A.rendering&&this.updateCells(e),this.scene.sort(),this.updateCamera(!1),i.Uk.render(this.scene.container),this.fps.update(this.ticker.FPS),this.frames++,this.emit("update-stats")},n.Tb.load(g.A.get("virusImageUrl"));var e=[];e.push((0,w.yb)(()=>this.emit("every-second"),1e3)),e.push((0,w.yb)(()=>this.emit("every-minute"),6e4)),this.intervals=e,m.xx.setRunningGame(this),m.kF.setRunningGame(this);document.addEventListener("visibilitychange",()=>{var e;this.running&&(e="visible"===document.visibilityState,d.A.rendering=e,(0,u.$s)(1,e?"Regained focus on game tab":"Focus on game tab was lost"))}),document.addEventListener("click",()=>{this.running&&!d.A.rendering&&(d.A.rendering=!0)}),d.A.activeContext=g.A.get("activeTabContext"),g.A.on("setting-changed",(e,t)=>{"activeTabContext"===e&&(d.A.activeContext=t)}),this.on("connect-server",(e,t)=>{if(null==(t=t||d.A.connectionUrl))(0,u.$s)(1,"No active server URL set during attempt to connect?"),e.promise=Promise.resolve(!1);else{if(this.joinTimeout){if(!e.first||d.A.connectionUrl===t)return e.wait=!0,void(e.promise=Promise.resolve(!1));(0,w.DJ)(this.joinTimeout)}this.joinTimeout=(0,w.wg)(()=>{delete this.joinTimeout},3200),u.oR.close(),e.first&&(this.connections.forEach(e=>e.opened&&e.close()),this.running)&&this.stop(),e.promise=this.connection.open(t)}}),this.scheduler.add(()=>{Promise.resolve().then(()=>{this.getConnected(0)&&(this.destructCells(this.renderStamp,0),this.updateScore(0))}),Promise.resolve().then(()=>{this.getConnected(1)&&(this.destructCells(this.renderStamp,1),this.updateScore(1))})}),this.scheduler.add(()=>{(isNaN(this.disallowMovementStamp)||this.renderStamp<this.disallowMovementStamp)&&(this.splitCount=0,this.updateMouse())}),this.on("started",()=>{this.scheduler.start()}),this.on("stopped",()=>{this.scheduler.stop()})}start(e){if(!(e.protocol&&e.serverSeed&&e.playerId&&e.border))throw new Error("Lacking mandatory data");this.running=!0,this.protocol=e.protocol,this.gamemodeId=e.gamemodeId||0,this.serverSeed=e.serverSeed,this.replaying=!1,this.flags=0,this.updatePacketStamps=[-1,-1],d.A.isAlive=[!1,!1],this.playerId=e.playerId,this.tagId=null,this.centerPosition.reset(),this.scores=[0,0],this.highestScores=[0,0],this.serverTick=0,this.renderStamp=0,this.fps.reset(),A.Ab.forEach(e=>e.clear()),A.DH.clear(),A.nf.forEach(e=>e.clear()),this.ownedCells.clear(),this.cellCounts=[0,0],this.rawMouse.reset(),this.mouse.reset(),this.mouseZoom=.3,this.mouseZoomMin=.01;var t=this.border=e.border;this.food=e.food,this.camera={lastRenderStamp:0,spectatorPosition:r.A.from(),oldPosition:r.A.from(t.x,t.y),currentPosition:r.A.from(),newPosition:r.A.from(t.x,t.y),oldScale:this.mouseZoom,newScale:this.mouseZoom},this.massTextPool=[],this.crownPool=[],this.scene=new o.A(this,t),this.playerManager.reset(),this.ticker=new S.Rv,this.ticker.add(this.onTick),this.replaying||(this.splitCounts=[0,0],this.disallowMovementStamps=[NaN,NaN],this.stopMovementPacketsFor=-1,this.centralizeCellsFor=-1,this.mouseFrozenFor=-1,g.A.get("minimapEnabled"),g.A.get("showChat")&&this.emit("chat-visible",!0),this.emit("leaderboard-show"),this.emit("stats-visible",!0),this.moveInterval=(0,w.yb)(()=>{if(this.getConnected(d.A.activeContext)&&this.stopMovementPacketsFor!==d.A.activeContext&&2!==this.stopMovementPacketsFor)return this.centralizeCellsFor===d.A.activeContext||2===this.centralizeCellsFor?this.connection.sendOpcodePacket(9):void this.connection.sendMousePacket()},1e3/70),y.pB.set("Play as tab "+(1+d.A.activeContext)),y.qC.set(!0),y.m7.set(!0),this.on("every-second",b.everySecond)),this.frames=0,this.ticker.start(),this.emit("started")}stop(){if(this.running){this.running=!1,delete this.protocol,delete this.gamemodeId,delete this.serverSeed,delete this.replaying,delete this.playerId,delete this.tagId,d.A.reset(),y.m7.set(!0),y.pB.set("Play as tab "+(1+d.A.activeContext)),y.qC.set(!0),d.A.isAlive=[!1,!1],this.centerPosition.reset(),this.scores=[0,0],this.highestScores=[0,0],this.serverTick=0,this.renderStamp=0,this.clearCells(0),this.clearCells(1),this.cellCounts=[0,0],this.rawMouse.reset(),this.mouse.reset(),delete this.mouseZoom,delete this.mouseZoomMin,delete this.border,delete this.food,delete this.camera,this.playerManager.reset();var e=this["scene"];for(e&&(e.destroyBackgroundImage(!1),e.uninstallMassTextFont(),e.container.destroy({children:!0}),delete this.scene),this.renderer.clear(),n.lw.reset(),n.WK.reset();this.massTextPool.length;)this.massTextPool.pop().destroy(!0);for(;this.crownPool.length;)this.crownPool.pop().destroy();this.ticker.stop(),delete this.ticker,delete this.frames,this.splitCounts=[0,0],this.disallowMovementStamps=[NaN,NaN],this.stopMovementPacketsFor=-1,this.centralizeCellsFor=-1,this.mouseFrozenFor=-1,(0,w.vG)(this.moveInterval),delete this.moveInterval,this.off("every-second",b.everySecond),this.ticksSinceDeath=[0,0],this.deathTimeouts=[],this.skinLoader.clearCallbacks(),this.emit("minimap-stats-visible",!0),this.emit("stats-visible",!1),this.emit("chat-visible",!1),this.emit("leaderboard-hide"),this.emit("minimap-hide"),this.emit("minimap-destroy"),this.emit("clear-chat"),this.emit("show-replay-controls",!1),this.emit("cells-changed",0),this.emit("reset-cautions"),this.emit("stopped")}}static everySecond(){var t,e,s;for(let e=0;e<2;e++)E.getConnected(e)&&((t=E.connections[e]).pingStamp=t.sendPingPacket());E.getConnected(0)&&E.getConnected(1)?([e,s]=E.updatePacketStamps,s=s<e?e-s:s-e,E.emit("latency-unstable",80<s),null==E.closeSpawnContext||d.A.isAutoRespawning[E.closeSpawnContext]||-1==E.distanceBetweenTabs||-1!=E.distanceBetweenTabs&&(1e4<E.distanceBetweenTabs?E.connections[E.closeSpawnContext].sendSpawnPacket():delete E.closeSpawnContext)):E.emit("latency-unstable",!1)}setMenuVisibility(e){void 0===e&&(e=!this.menuVisible),this.menuVisible!==e&&(this.menuVisible=e),this.centralizeCellsFor=e?2:-1,this.emit("update-cautions",{centralizeCells:e}),this.emit("menu-visibility",e),e||i.Uk.view.focus()}clearCells(t,e){var s,i=A.Ab[t],n=A.nf[t];for(s of i.values())s.shared.delete(t),0==s.shared.size&&s.destroy(),i.delete(s.id);let o;for(o of n)o.value.destroySprite();if(n.clear(),e)for(o of A.DH){let e=o.value;e.shared.has(t)&&e.shared.delete(t)}}triggerAutoRespawn(t){(0,w.DJ)(this.deathTimeouts[t]),delete this.deathTimeouts[t],d.A.isAutoRespawning[t]=!1,delete this.ticksSinceDeath[t],this.menuVisible||this.playerCells.some(e=>e.pid===d.A.pids[t])||this.connections[t].sendSpawnPacket()}triggerDeathDelay(e){(0,w.DJ)(this.deathTimeouts[e]),delete this.deathTimeouts[e],d.A.isAutoRespawning[e]=!1}destructCells(e,t){let s=A.nf[t],i;for(i of s){var n=i.value;n.update(e)&&(n.destroySprite(),i.remove())}d.A.rendering}updateScore(e){var t;this.getAlive(e)&&(t=this.scores[e]=this.getScore(e),this.highestScores[e]=C.T9(t,this.highestScores[e]))}updateCells(e){let t;for(t of A.DH)t.value.update(e)}getPosition(e){var i=r.A.from();if(this.getAlive(e)){let t=d.A.pids[e];var n,e=[...this.ownedCells].filter(e=>e.pid===t);0!==e.length&&(n=0,e.forEach(e=>{var t=e.mass,{x:e,y:s}=(n+=t,e.newPosition);i.add(e*t,s*t)}),0!=n)&&i.divide(n)}return i}getDistanceBetweenTabs(){if(!this.getAlive(d.A.activeContext))return-1;let t=this.getPosition(0==d.A.activeContext?1:0);var s;return t.hasValue()&&(s=[],this.ownedCells.forEach(e=>{e.pid===this.activePid&&(e=C.RZ(C.tn((0,I.Sl)(e.position,t)))-e.newSize,s.push(e))}),0!=s.length)?C.jk.apply(null,s):-1}updateCamera(e){var t=this.camera,s=t.oldPosition,i=t.newPosition,n=this.renderStamp-t.lastRenderStamp;let o;this.smoothingStartStamp?(a=C.tn(this.renderStamp-this.smoothingStartStamp),!isNaN(a)&&a<200?o=g.A.get("cameraSwitchDelay"):(o=g.A.get("cameraMoveDelay"),delete this.smoothingStartStamp)):o=g.A.get("cameraMoveDelay");var a=(0,u.N)(n/g.A.get("cameraZoomDelay"),0,1),n=(0,u.N)(n/o,0,1),r=this.scene.container,n=t.currentPosition.set(s).lerp(i,n),a=(r.pivot.set(n.x,n.y),(0,u.Cc)(t.oldScale,t.newScale,a));r.scale.set(a);let l=this.mouseZoom,A;if(!this.getSpectating(d.A.activeContext)&&this.alive){A=this.centerPosition.reset();var c,h,r=this.distanceBetweenTabs=this.getDistanceBetweenTabs();let n=-1!=r&&7e3<r;0!=this.ownedCells.size?(h=c=0,this.ownedCells.forEach(e=>{var t,s,i;n&&e.pid!=this.activePid||(t=e.mass,{x:s,y:i}=(c+=t,e.newPosition),A.add(s*t,i*t),h+=e.newSize)}),0!=c&&A.divide(c),g.A.get("autoZoom")&&(l*=C.n7(C.jk(64/h,1),.27))):A.set(i),A.copy(t.spectatorPosition)}else A=t.spectatorPosition;e&&(i.set(A),t.newScale=l,s.set(n),t.oldScale=a,t.lastRenderStamp=this.renderStamp)}updateMouse(e=!1){var t,s;this.mouseFrozenFor===d.A.activeContext&&!e||(e=this.scene.container,{x:t,y:s}=this.rawMouse,this.mouse.set((0,u.N)(e.pivot.x+(t-window.innerWidth/2)/e.scale.x,-32768,32767),(0,u.N)(e.pivot.y+(s-window.innerHeight/2)/e.scale.y,-32768,32767)))}getRandomSeed(e){return(e=C.F8(e)*(1e4+this.serverSeed))-C.RI(e)}getMassText(e){return!g.A.get("shortMass")||e<1e3?e.toFixed(0):1e6<=e?+(e/1e6).toFixed(1)+"m":+(e/1e3).toFixed(1)+"k"}updateOutlines(e,t){e=this.playerManager.getLocal(e),t=this.playerManager.getLocal(t);t&&e&&e.setOutline(g.A.get("switchUnfocusedColor")),t&&t.setOutline(g.A.get("switchFocusedColor"))}getAlive(e){return Boolean(this.flags&(0==e?2:4))}setAlive(e,t){this.getAlive(e)!=t&&(e=0==e?2:4,t?this.flags|=e:this.flags&=~e,(0,v.Jt)(y.m7)==t)&&y.m7.set(!t)}get alive(){return Boolean(2&this.flags)||Boolean(4&this.flags)}getSpectating(e){return Boolean(this.flags&(0==e?8:16))}setSpectating(e,t){this.getSpectating(e)!=t&&(e=0==e?8:16,t?this.flags|=e:this.flags&=~e)}getConnected(e){e=this.connections[e];return e.opened&&e.connected}get connected(){return this.connections.some(e=>e.connected)}get spectating(){return Boolean(8&this.flags)||!!(16&this.flags)}get activePid(){return d.A.pids[d.A.activeContext]}get connection(){return this.connections[d.A.activeContext]}getScore(t){let s=0;return this.ownedCells.forEach(e=>{e.pid===d.A.pids[t]&&(s+=e.mass)}),s}get totalScore(){let t=0;return this.ownedCells.forEach(e=>{t+=e.mass}),t}get score(){return this.scores[d.A.activeContext]}get highestScore(){return this.highestScores[d.A.activeContext]}get cells(){return A.DH.values()}get playerCells(){return this.cells.filter(e=>!!e.isPlayerCell).map(e=>e)}get destroyedCells(){return A.nf.flatMap(e=>e.values())}get activeContexts(){let e=this.connections.length,t=0;for(;e--;)t+=this.getConnected(e)?1:0;return t}}let E=new b,Q=((0,u.$s)(1,"'gameObject' global defined but is deprecated!"),s.g.gameObject=E,s.g.game=E)},57346:(e,t,s)=>{s.d(t,{Ay:()=>g,Mf:()=>d});var n=s(14098),i=s(78258),o=s(63400),a=s(83439),r=s(59434),l=s(81963),A=s(54603);let c=new Map([["toggleAutoRespawn",()=>{var e=i.A.get("autoRespawn");i.A.set("autoRespawn",!e),e&&o.A.isAutoRespawning[o.A.activeContext]&&n.A.triggerDeathDelay(o.A.activeContext),a.oR.fire({title:"Auto respawn "+(e?"disabled":"enabled"),icon:"info",timer:1500})}],["saveReplay",()=>{var e;n.A.replayer.running?(e=n.A.replayer.download(),n.A.replayer.stop(),(0,a.me)(`Replay of the last ${e} seconds rendered and downloaded`,0,1500)):((0,a.me)("Recording started (press keybind again to stop recording)",0,3e3),n.A.replayer.start())}],["respawn",()=>{(0,A.Jt)(r.qC)&&(n.A.actions.join(),n.A.setMenuVisibility(!1))}],["feed",n.A.actions.feed.bind(n.A.actions)],["feedMacro",n.A.actions.feed.bind(n.A.actions,!0)],["split",n.A.actions.split.bind(n.A.actions,1)],["splitx2",()=>n.A.actions.split(2,i.A.get("delayDoublesplit")?40:0)],["splitx3",n.A.actions.split.bind(n.A.actions,3)],["splitMax",n.A.actions.split.bind(n.A.actions,4)],["split32",n.A.actions.split.bind(n.A.actions,5)],["split64",n.A.actions.split.bind(n.A.actions,6)],["split128",n.A.actions.split.bind(n.A.actions,7)],["split256",n.A.actions.split.bind(n.A.actions,8)],["linesplit",n.A.actions.lineSplit.bind(n.A.actions)],["freezeMouse",n.A.actions.freezeMouse.bind(n.A.actions)],["lockLinesplit",n.A.actions.lockLinesplit.bind(n.A.actions)],["stopMovement",n.A.actions.stopMovement.bind(n.A.actions)],["toggleSkins",n.A.actions.toggleSkins.bind(n.A.actions)],["toggleNames",n.A.actions.toggleNames.bind(n.A.actions)],["toggleFood",n.A.actions.toggleFood.bind(n.A.actions)],["toggleMass",n.A.actions.toggleMass.bind(n.A.actions)],["toggleChat",n.A.actions.toggleChat.bind(n.A.actions)],["toggleChatToast",n.A.actions.toggleChatToast.bind(n.A.actions)],["toggleHud",n.A.actions.toggleHud.bind(n.A.actions)],["spectateLock",n.A.actions.toggleSpectateLock.bind(n.A.actions)],["selectPlayer",n.A.actions.selectPlayer.bind(n.A.actions)],["zoomLevel1",n.A.actions.setZoomLevel.bind(n.A.actions,1)],["zoomLevel2",n.A.actions.setZoomLevel.bind(n.A.actions,2)],["zoomLevel3",n.A.actions.setZoomLevel.bind(n.A.actions,3)],["zoomLevel4",n.A.actions.setZoomLevel.bind(n.A.actions,4)],["zoomLevel5",n.A.actions.setZoomLevel.bind(n.A.actions,5)],["switchMultibox",n.A.actions.switch.bind(n.A.actions)],["switchSplit",()=>{n.A.actions.split(2),n.A.actions.switch(),n.A.actions.split(8)}],["switchLinesplit",()=>{n.A.actions.lineSplit(),n.A.actions.switch(),n.A.actions.split(8)}],["splitTrigger",()=>{var e=n.A.actions.getPlayerUnderMouse(!0);return!e&&l.h.target||l.h.target&&e.pid===l.h.target.pid?l.h.reset():void l.h.watch(e.pid,0)}],["doublesplitTrigger",()=>{var e=n.A.actions.getPlayerUnderMouse(!0);return!e&&l.h.target||l.h.target&&e.pid===l.h.target.pid?l.h.reset():void l.h.watch(e.pid,1)}],["linesplitTrigger",()=>{var e=n.A.actions.getPlayerUnderMouse(!0);return!e&&l.h.target||l.h.target&&e.pid===l.h.target.pid?l.h.reset():void l.h.watch(e.pid,2)}],["tricksplitTrigger",()=>{var e=n.A.actions.getPlayerUnderMouse(!0);return!e&&l.h.target||l.h.target&&e.pid===l.h.target.pid?l.h.reset():void l.h.watch(e.pid,3)}],["contextMenu",()=>{var e=n.A.actions.getPlayerUnderMouse(!0);e?.pid&&n.A.emit("context-menu",e.player,n.A.rawMouse.clone())}]]),h={feed:"W",feedMacro:"MOUSE0",split:"SPACE",splitx2:"G",splitx3:"H",splitMax:"T",split32:"",split64:"",linesplit:"Z",lockLinesplit:"",respawn:"",toggleAutoRespawn:"",stopMovement:"",toggleSkins:"",toggleNames:"",toggleMass:"",spectateLock:"Q",selectPlayer:"E",saveReplay:"R",toggleChat:"",toggleChatToast:"",toggleHud:"",zoomLevel1:"1",zoomLevel2:"2",zoomLevel3:"3",zoomLevel4:"4",zoomLevel5:"5",switchMultibox:"",switchSplit:"",switchLinesplit:"",doublesplitTrigger:"",linesplitTrigger:"",tricksplitTrigger:"",contextMenu:"MOUSE1"},d={Feed:"feed","Macro feed":"feedMacro",Split:"split","Double split":"splitx2","Triple split":"splitx3","Quad split":"splitMax","32 split":"split32","64 split":"split64","128 split":"split128","256 split":"split256","Diagonal linesplit":"linesplit","Lock linesplit":"lockLinesplit",Respawn:"respawn","Toggle auto respawn":"toggleAutoRespawn","Stop movement":"stopMovement","Toggle skins":"toggleSkins","Toggle names":"toggleNames","Toggle mass":"toggleMass","Toggle spectate lock":"spectateLock","Select Player":"selectPlayer","Start/Stop Recording":"saveReplay","Toggle chat":"toggleChat","Toggle toast chat":"toggleChatToast","Toggle HUD":"toggleHud","Zoom: Level 1":"zoomLevel1","Zoom: Level 2":"zoomLevel2","Zoom: Level 3":"zoomLevel3","Zoom: Level 4":"zoomLevel4","Zoom: Level 5":"zoomLevel5","Switch tab":"switchMultibox","Double split macro":"switchSplit","Linesplit trick macro":"switchLinesplit","One split trigger":"splitTrigger","Double split trigger":"doublesplitTrigger","Linesplit trigger":"linesplitTrigger","Context Menu":"contextMenu"};let g=s.g.input=new class{constructor(){this.version=2,this.released=new Map,this.pressed=new Map,this.load()}resetObsoleteHotkeys(){+localStorage.getItem("hotkeysVersion")!==this.version&&(localStorage.setItem("hotkeysVersion",""+this.version),"hotkeys"in localStorage)&&localStorage.removeItem("hotkeys")}load(){try{var t=JSON.parse(localStorage.getItem("hotkeys"));if("object"!=typeof t||null==t)throw new Error("Parsing hotkeys failed, opting for defaults");var s=Object.values(t),i=Object.assign({},h);let e;for(e in i){var n=i[e];n&&s.includes(n)&&(i[e]=h[e])}"multibox"in t&&t.multibox&&!t.switchMultibox?(delete t.multibox,t.switchMultibox=t.multibox):t.switchMultibox||(t.switchMultibox=h.switchMultibox),this.mappedHotkeys=Object.assign(i,t)}catch(e){(0,a.$s)(2,"string"==typeof e?e:e&&e.message||"An error occurred while parsing hotkeys"),this.mappedHotkeys=Object.assign({},h)}this.loadHandlers(this.mappedHotkeys)}save(){localStorage.setItem("hotkeys",JSON.stringify(this.mappedHotkeys))}reset(){return localStorage.removeItem("hotkeys"),this.load(),this.mappedHotkeys}get(e){return e in this.mappedHotkeys&&this.mappedHotkeys[e]||"None"}set(e,t){if(!c.has(e))return!1;if(this.mappedHotkeys[e]!==t){if(t){let e;for(e of Object.entries(this.mappedHotkeys))e[1]===t&&(this.mappedHotkeys[e[0]]="")}this.mappedHotkeys[e]=t,this.save(),this.loadHandlers(this.mappedHotkeys)}return!0}loadHandlers(e){this.pressed.clear();let t;for(t in e){var s,i=e[t];c.has(t)&&(s=c.get(t),this.pressed.set(i,s))}this.released.clear(),"feedMacro"in e&&this.released.set(e.feedMacro,()=>n.A.actions.feed(!1))}press(e){return!!this.pressed.has(e)&&(this.pressed.get(e)(),!0)}release(e){return!!this.released.has(e)&&(this.released.get(e)(),!0)}translateKey(e){return e?e.toString().toUpperCase().replace(/^(LEFT|RIGHT|NUMPAD|DIGIT|KEY)/,""):"Unknown"}}},42549:(e,t,s)=>{s.d(t,{A:()=>A});var i=s(14098),n=s(24239),o=s(31024),a=(s(83439),s(58339)),r=s(15173),l=s(87706);class A{constructor(e){this.tagId=null,this.pid=e,this.texture=l.RenderTexture.create({width:r.eU,height:r.eU}),this.cellContainer=this.createCellContainer(),this.renderCell()}get visibility(){let t=2;return i.A.connections.some(e=>e.tagId===this.tagId&&(t=1,!0)),t}setTagId(e){return this.tagId!==(e=e||null)&&(this.tagId=e,!0)}setOutline(e,t=9.5,s=20){this.outlineColor=e=e||0;s=(new l.Graphics).lineStyle(s,e,1).drawCircle(0,0,r.Wp-t).endFill();s.pivot.set(-r.Wp),n.Uk.render(s,this.texture,!1)}setBorder(e){this.setOutline(e,7,10)}setCrown(t){t!==this.hasCrown&&(t?this.hasCrown=!0:delete this.hasCrown,i.A.playerCells.filter(e=>e.pid===this.pid).forEach(e=>{t?e.addCrown():e.removeCrown()}))}createCellContainer(){var e=new l.Container;return e.pivot.set(-r.eU/2),e.addChild((0,r.Jm)(this.cellColor=A.getCellColor(this))),e}renderCell(){n.Uk.render(this.cellContainer,this.texture,!0),this.outlineColor&&this.setOutline(this.outlineColor)}static getCellColor(e){var t=i.A.getRandomSeed(e.pid),e=e.isBot?o.O$:o.ic;return e[a.RI(t*e.length)]}static getBorderColor(e){var t=i.A.getRandomSeed(e.pid),e=e.isBot?o.oZ:o.cy;return e[a.RI(t*e.length)]}}A.prototype.destroyed=!1},84625:(e,t,s)=>{s.d(t,{A:()=>r});var i=s(14098),n=s(78258),t=s(42549),o=s(15173),a=s(87706);class r extends t.A{constructor(e){super(e)}setName(e){return e=e||o.Wb,this.name!==e&&(this.name=e,this.applyNameToSprite(),!0)}applyNameToSprite(){var e=this.name===o.Wb,t=e?"":this.name,s=this.name;this.setNameSprite(t),this.name=e?o.Wb:t,s!==this.name&&i.A.emit("minimap-create-node",this.pid,t,null)}setNameSprite(e){this.nameSprite?this.nameSprite.text=e:this.nameSprite=new a.Text(e,n.A.nameTextStyle),this.nameSprite.style.fill=16777215,this.nameSprite.updateText(!1)}invalidateVisibility(){this.nameShown=null!=this.forceNameShown?this.forceNameShown:n.A.get("namesEnabled")&&n.A.get("showNames")>=this.visibility,this.massShown=n.A.get("massEnabled")&&n.A.get("showMass")>=this.visibility}destroy(){this.cellContainer.destroy(!0),delete this.cellContainer,this.texture.destroy(!0),this.texture.clearedFromCache=!0,delete this.texture,this.nameSprite&&(this.nameSprite.destroy(!0),delete this.nameSprite),i.A.emit("minimap-destroy-node",this.pid),this.destroyed=!0}}r.prototype.destroyed=!1,r.prototype.isBot=!0},24608:(e,t,s)=>{s.d(t,{A:()=>i});var c=s(52875),h=s(84625),d=s(63400),g=s(83439);let u=decodeURIComponent("%F0%9F%A4%96");class i{constructor(e){this.players=new Map,this.bots=new Map,this.localPlayers=new Array(2),this.playersRemoving=[],this.game=e}reset(){this.players.forEach(e=>e.destroy()),this.players.clear(),this.bots.forEach(e=>e.destroy()),this.bots.clear(),this.localPlayers.splice(0,2),this.playersRemoving.splice(0,this.playersRemoving.length)}get botCount(){return this.bots.size}get playerCount(){return this.players.size}has(e){return this.players.has(e)||this.bots.has(e)}getPlayer(e){return this.players.has(e)?this.players.get(e):null}getBot(e){return this.bots.has(e)?this.bots.get(e):null}get(e){return this.players.has(e)?this.players.get(e):this.bots.has(e)?this.bots.get(e):null}setLocal(e,t){this.localPlayers[e]=t}getLocal(e){return this.localPlayers[e]||null}addOrUpdate({pid:e,nickname:t,skin:s,skinUrl:i,nameColor:n,tagId:o,bot:a,...r}){let l;if(this.players.has(e)){if(a)return l;l=this.players.get(e)}else a?(t=u,this.bots.set(e,l=new h.A(e))):(l=new c.A(e),0<=(A=d.A.pids.indexOf(e))&&(this.localPlayers[A]=l),this.players.set(e,l));"string"!=typeof s||a||(i="https://skins.vanis.io/s/"+s);var A=l.setName(t,n||r.perk_color),a=l instanceof c.A&&l.setSkin(i),s=l.setTagId(o);return(A||a||s)&&(0,g.$s)(0,`[UPDATE::'${e}']`,l),(A||a||s)&&l.invalidateVisibility(),l}invalidateVisibility(t,s){this.players.forEach(e=>{t&&t.has(e)||e.invalidateVisibility()}),this.bots.forEach(e=>{s&&s.has(e)||e.invalidateVisibility()})}removePlayer(e,t=!1){this.players.has(e)&&(t?this.playersRemoving.push(e):(t=this.players.get(e),(0,g.$s)(0,`[removePlayer::'${e}']`,t),t.destroy(),this.players.delete(e)))}removeBot(e,t=!1){this.bots.has(e)&&(t?this.playersRemoving.push(e):(t=this.players.get(e),(0,g.$s)(0,`[removePlayer::'${e}']`,t),t.destroy(),this.players.delete(e)))}remove(e,t=!1){var s=!this.players.has(e);(s||this.bots.has(e))&&(t?this.playersRemoving.push(e):s?this.removePlayer(e,t):this.removeBot(e,t))}sweepRemovedPlayers(){for(var e=this.playersRemoving;e.length;){var t=e.shift();this.remove(t)}}}},52875:(e,t,s)=>{s.d(t,{A:()=>A});var a=s(14098),r=s(78258),l=(s(83439),s(15173)),t=s(42549),n=s(24239),o=s(87706);let i=(0,l.Jm)(0);class A extends t.A{constructor(e){super(e),this.skinUrl=null}createSkinSprite(e){e=new o.BaseTexture(new o.resources.ImageBitmapResource(e)),e=new o.Texture(e),e=new o.Sprite(e);return e.width=e.height=l.eU,e.anchor.set(.5),e}setNameColor(e){return this.nameColorCss=e?"#"+e:null,this.nameColor=e?parseInt(e,16):null}setName(e,t){return e=e||l.Wb,(this.name!==e||this.nameColorFromServer!==t)&&(this.name=e,this.nameColorFromServer=t,this.applyNameToSprite(),!0)}applyNameToSprite(){var e=this.name===l.Wb,t=this.name===l.Xs;let s=e?"":this.name;var i=this.name,n=this.nameColor;let o=this.setNameColor(e||t?null:this.nameColorFromServer);this.setNameSprite(s,o),!e&&!t&&this.nameSprite.texture.width>r.A.get("cellLongNameThreshold")&&(s=l.Xs,o=this.setNameColor(null),this.setNameSprite(s,o)),this.name=e?l.Wb:s,i===this.name&&n===this.nameColor||(t=o||(this.isMe?16747520:null),a.A.emit("minimap-create-node",this.pid,s,o,t))}setNameSprite(e,t){this.nameSprite?this.nameSprite.text=e:this.nameSprite=new o.Text(e,r.A.nameTextStyle),this.nameSprite.style.fill="number"==typeof t?t:16777215,this.nameSprite.updateText(!1)}setSkin(e){return(e=e||null)!==this.skinUrl&&(this.abortSkinLoaderIfExist(),this.destroySkin()&&this.renderCell(),this.skinUrl=e,this.skinShown&&this.loadSkinAndRender(),!0)}destroySkin(){return!!this.skinSprite&&(this.cellContainer.removeChild(i),this.skinSprite.mask=null,this.skinSprite.destroy(!0),delete this.skinSprite,!0)}loadSkinAndRender(){this.abortSkinLoaderIfExist(),this.abortSkinLoader=a.A.skinLoader.loadSkin(this.skinUrl,e=>{this.skinSprite=this.createSkinSprite(e),this.skinSprite.mask=i,this.cellContainer.addChild(this.skinSprite.mask,this.skinSprite),this.renderCell()})}invalidateVisibility(){let e=r.A.get("namesEnabled"),t=r.A.get("skinsEnabled"),s=r.A.get("massEnabled");s=this.isMe?(e=r.A.get("showOwnName"),t=r.A.get("showOwnSkin"),r.A.get("showOwnMass")):(e=r.A.get("showNames")>=this.visibility,t=r.A.get("showSkins")>=this.visibility,r.A.get("showMass")>=this.visibility),e=r.A.get("namesEnabled")&&e,t=r.A.get("skinsEnabled")&&t,s=r.A.get("massEnabled")&&s,null!=this.forceNameShown&&(e=this.forceNameShown),(t=null!=this.forceSkinShown?this.forceSkinShown:t)&&!this.skinShown?this.skinSprite?(this.skinSprite.visible=!0,this.renderCell()):null!=this.skinUrl&&this.loadSkinAndRender():!t&&this.skinShown&&(this.abortSkinLoaderIfExist(),this.skinSprite)&&(this.skinSprite.visible=!1,this.renderCell()),this.nameShown=e,this.skinShown=t,this.massShown=s,this.nameColorShown=r.A.get("showNameColor")}abortSkinLoaderIfExist(){this.abortSkinLoader&&(this.abortSkinLoader(),delete this.abortSkinLoader)}setOutline(e,t=9.5,s=20,i=1){this.outlineColor=e=e||0;s=this.outlineGraphic=(new o.Graphics).lineStyle(s,e,i).drawCircle(0,0,l.Wp-t).endFill();s.pivot.set(-l.Wp),n.Uk.render(s,this.texture,!1)}renderCell(){n.Uk.render(this.cellContainer,this.texture,!0),this.outlineColor&&this.setOutline(this.outlineColor)}destroy(){this.abortSkinLoaderIfExist(),this.destroySkin(),this.cellContainer.destroy(!0),delete this.cellContainer,this.texture.destroy(!0),this.texture.clearedFromCache=!0,delete this.texture,this.nameSprite&&(this.nameSprite.destroy(!0),delete this.nameSprite),a.A.emit("minimap-destroy-node",this.pid),this.destroyed=!0}}A.prototype.destroyed=!1,A.prototype.isPlayer=!0},15173:(e,t,s)=>{s.d(t,{Jm:()=>a,Wb:()=>r,Wp:()=>o,Xs:()=>l,eU:()=>n});var t=s(78258),i=(s(58339),s(87706));let n=t.A.cellSize,o=n/2;t.A.get("cellBorderSize");let a=e=>{return(new i.Graphics).beginFill(e).drawCircle(0,0,o).endFill()},r="Unnamed",l="Long Name"},78060:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(24239),n=s(26814);let o=new class{constructor(){this.chunks=[],this.running=!1}start(){var e;this.running||(this.chunks.length=0,this.running=!0,e=i.Uk.view.captureStream(50),this.recorder=new MediaRecorder(e,{mimeType:"video/webm; codecs=vp9",audioBitsPerSecond:0,videoBitsPerSecond:5e6}),this.recorder.addEventListener("dataavailable",e=>this.add(e.data)),this.recorder.start(50))}add(e){750<this.chunks.length&&this.chunks.shift(),this.chunks.push(e)}download(){var e=this.chunks.slice(0),e=URL.createObjectURL(new Blob(e,{type:"video/webm"}));let t=document.createElement("a");return t.href=e,t.setAttribute("download","output.webm"),document.body.appendChild(t),t.click(),(0,n.wg)(()=>document.body.removeChild(t)),Math.round(this.chunks.length/15)}stop(){this.running&&(this.running=!1,this.chunks.length=0,this.recorder.stop())}}},78258:(e,t,s)=>{s.d(t,{A:()=>h});var n=s(33874),i=s(58339),o=s(83439),t=s(37007),t=s.n(t),a=s(87706);s(31091),s(57088);let r=new Map,l=(r.set("useWebGL",new n.A("useWebGL",!0)),r.set("gameResolution",new n.A("gameResolution",1)),r.set("smallTextThreshold",new n.A("smallTextThreshold",40)),r.set("autoZoom",new n.A("autoZoom",!1)),r.set("rememeberEjecting",new n.A("rememeberEjecting",!0)),r.set("autoRespawn",new n.A("autoRespawn",!1)),r.set("mouseFreezeSoft",new n.A("mouseFreezeSoft",!0)),r.set("drawDelay",new n.A("drawDelay",120)),r.set("cameraMoveDelay",new n.A("cameraMoveDelay",150)),r.set("cameraSwitchDelay",new n.A("cameraSwitchDelay",200)),r.set("cameraZoomDelay",new n.A("cameraZoomDelay",150)),r.set("cameraZoomSpeed",new n.A("cameraZoomSpeed",10)),r.set("replayDuration",new n.A("replayDuration",8)),r.set("showReplaySaved",new n.A("showReplaySaved",2)),r.set("showNames",new n.A("showNames",2)),r.set("showMass",new n.A("showMass",2)),r.set("showSkins",new n.A("showSkins",1)),r.set("showOwnName",new n.A("showOwnName",!0)),r.set("showOwnMass",new n.A("showOwnMass",!0)),r.set("showOwnSkin",new n.A("showOwnSkin",!0)),r.set("showCrown",new n.A("showCrown",!0)),r.set("foodVisible",new n.A("foodVisible",!0)),r.set("eatAnimation",new n.A("eatAnimation",!0)),r.set("showHud",new n.A("showHud",!0)),r.set("showLeaderboard",new n.A("showLeaderboard",!0)),r.set("showServerName",new n.A("showServerName",!1)),r.set("showChat",new n.A("showChat",!0)),r.set("showChatToast",new n.A("showChatToast",!1)),r.set("minimapEnabled",new n.A("minimapEnabled",!0)),r.set("minimapLocations",new n.A("minimapLocations",!0)),r.set("showFPS",new n.A("showFPS",!0)),r.set("showPing",new n.A("showPing",!0)),r.set("showCellCount",new n.A("showCellCount",!0)),r.set("showPlayerScore",new n.A("showPlayerScore",!1)),r.set("showPlayerMass",new n.A("showPlayerMass",!0)),r.set("showLatencyWarning",new n.A("showLatencyWarning",!0)),r.set("showClock",new n.A("showClock",!1)),r.set("showSessionTime",new n.A("showSessionTime",!1)),r.set("showPlayerCount",new n.A("showPlayerCount",!1)),r.set("showSpectators",new n.A("showSpectators",!1)),r.set("showRestartTiming",new n.A("showRestartTiming",!1)),r.set("showBlockedMessageCount",new n.A("showBlockedMessageCount",!0)),r.set("filterChatMessages",new n.A("filterChatMessages",!0)),r.set("clearChatMessages",new n.A("clearChatMessages",!0)),r.set("backgroundColor",new n.A("backgroundColor","101010")),r.set("borderColor",new n.A("borderColor","000000")),r.set("foodColor",new n.A("foodColor","ffffff")),r.set("ejectedColor",new n.A("ejectedColor","ea2577")),r.set("cellNameOutlineColor",new n.A("cellNameOutlineColor","000000")),r.set("cursorImageUrl",new n.A("cursorImageUrl","")),r.set("backgroundImageUrl",new n.A("backgroundImageUrl","./img/background.png")),r.set("virusImageUrl",new n.A("virusImageUrl","./img/virus.png")),r.set("cellMassColor",new n.A("cellMassColor","ffffff")),r.set("cellMassOutlineColor",new n.A("AAA","000000")),r.set("cellNameFont",new n.A("cellNameFont","Hind Madurai")),r.set("cellNameWeight",new n.A("cellNameWeight",1)),r.set("cellNameOutline",new n.A("cellNameOutline",2)),r.set("cellNameSmoothOutline",new n.A("cellNameSmoothOutline",!0)),r.set("cellLongNameThreshold",new n.A("cellLongNameThreshold",750)),r.set("cellMassFont",new n.A("cellMassFont","Ubuntu")),r.set("cellMassWeight",new n.A("cellMassWeight",2)),r.set("cellMassOutline",new n.A("cellMassOutline",2)),r.set("cellMassTextSize",new n.A("cellMassTextSize",0)),r.set("cellMassSmoothOutline",new n.A("cellMassSmoothOutline",!0)),r.set("shortMass",new n.A("shortMass",!0)),r.set("showBackgroundImage",new n.A("showBackgroundImage",!0)),r.set("backgroundImageRepeat",new n.A("backgroundImageRepeat",!0)),r.set("backgroundDefaultIfUnequal",new n.A("backgroundDefaultIfUnequal",!0)),r.set("backgroundImageOpacity",new n.A("backgroundImageOpacity",.6)),r.set("useFoodColor",new n.A("useFoodColor",!1)),r.set("namesEnabled",new n.A("namesEnabled",!0)),r.set("skinsEnabled",new n.A("skinsEnabled",!0)),r.set("massEnabled",new n.A("massEnabled",!0)),r.set("showLocations",new n.A("showLocations",!1)),r.set("cellBorderSize",new n.A("cellBorderSize",1)),r.set("autoHideReplayControls",new n.A("autoHideReplayControls",!1)),r.set("minimapSize",new n.A("minimapSize",220)),r.set("minimapFPS",new n.A("minimapFPS",30)),r.set("minimapSmoothing",new n.A("minimapSmoothing",.08)),r.set("rememeberEjecting",new n.A("rememeberEjecting",!0)),r.set("switchUnfocusedColor",new n.A("switchUnfocusedColor",16777215)),r.set("switchFocusedColor",new n.A("switchFocusedColor",16711935)),r.set("activeTabContext",new n.A("defaultTabContext",0)),r.set("animateEjectedCells",new n.A("animateEjectedCells",!0)),r.set("animatePlayerCells",new n.A("animatePlayerCells",!0)),r.set("inputs",new n.A("inputs",'{"names":["Tab 1","Tab 2"],"skins":["https://skins.vanis.io/s/vanis1","https://skins.vanis.io/s/vanis1"],"tags":["",""]}')),r.set("showTotalPlayerMass",new n.A("showTotalPlayerMass",!0)),r.set("showTotalPlayerScore",new n.A("showTotalPlayerScore",!0)),r.set("excludeBotsOnLeaderboard",new n.A("excludeBotsOnLeaderboard",!1)),r.set("useAntialiasing",new n.A("useAntialiasing",!1)),r.set("menuFoodGlow",new n.A("menuFoodGlow",!1)),r.set("chatHeight",new n.A("chatHeight",200)),r.set("lineSplitDelay",new n.A("lineSplitDelay",750)),(e,t)=>{let s;switch(e){case 3:s=t/5;break;case 1:s=t/20;break;default:s=t/10}return i.mk(s)}),A=e=>0===e?"thin":2===e?"bold":"normal";class c extends t(){storeInputs(){this.set("inputs",JSON.stringify(this.inputs))}loadInputs(){try{let e;"inputs"in this.userDefinedSettings?e=this.get("inputs"):((0,o.$s)(1,"No player inputs found; falling back to defaults"),e=this.getDefault("inputs"),this.set("inputs",e)),this.inputs=JSON.parse(e)}catch(e){(0,o.$s)(1,"Failed to parse player inputs; falling back to defaults"),this.inputs=JSON.parse(this.getDefault("inputs"))}}constructor(){super(),this.storage=new Map,this.cellSize=512;let s=this.storage,t={},e=!1;if("settings"in localStorage)try{t=JSON.parse(localStorage.getItem("settings")),e=!0}catch(e){}if(this.userDefinedSettings=t,e){let e;for(e in t){var i=t[e];s.set(e,new n.A(e,i))}}else r.forEach((e,t)=>s.set(t,new n.A(e.key,e.value))),this.store();this.loadInputs(),r.forEach((e,t)=>{s.has(t)||s.set(t,new n.A(e.key,e.value))}),this.set("skinsEnabled",!0),this.set("namesEnabled",!0),this.set("massEnabled",!0),this.compileNameFontStyle(),this.compileMassFontStyle()}store(){localStorage.setItem("settings",JSON.stringify(this.userDefinedSettings))}compileNameFontStyle(){var e=new a.TextStyle({fontFamily:this.get("cellNameFont"),fontSize:80,fontWeight:A(this.get("cellNameWeight"))}),t=this.get("cellNameOutline");t&&(e.stroke=parseInt(this.get("cellNameOutlineColor"),16),e.strokeThickness=l(t,e.fontSize),e.lineJoin=this.get("cellNameSmoothOutline")?"round":"miter"),this.nameTextStyle=e}compileMassFontStyle(){var e=new a.TextStyle({fontFamily:this.get("cellMassFont"),fontSize:56+20*this.get("cellMassTextSize"),fontWeight:A(this.get("cellMassWeight")),lineJoin:"round",fill:parseInt(this.get("cellMassColor"),16)}),t=this.get("cellMassOutline");t&&(e.stroke=parseInt(this.get("cellMassOutlineColor"),16),e.strokeThickness=l(t,e.fontSize),e.lineJoin=this.get("cellMassSmoothOutline")?"round":"miter"),this.massTextStyle=e}get useWebGL(){return a.utils.isWebGLSupported()&&this.get("useWebGL")}getDefault(e){return r.has(e)?r.get(e).value:null}has(e){return this.storage.has(e)}get(e){return this.has(e)?this.storage.get(e).value:null}set(e,t){return!(this.has(e)&&this.get(e)===t||(this.storage.set(e,new n.A(e,t)),this.userDefinedSettings[e]=t,this.store(),this.emit("setting-changed",e,t),0))}}t=new c;let h=s.g.settings=t},33874:(e,t,s)=>{s.d(t,{A:()=>i});class i{constructor(e,t){this.key=e,this.value=t}}},97885:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(83439);let n=(e,t)=>{e=e.callbacks,t=e.indexOf(t);return!(t<0||(e.splice(t,1),0))};class o{constructor(){this.loaders=new Map,this.startWorker()}startWorker(){let t=new URL(s(97833),s.b);fetch(t).then(async e=>{e=URL.createObjectURL(await e.blob());(0,i.$s)(0,`Skin worker loaded asynchronously at "${e}" from file at "${t}"`),this.worker=new Worker(e),this.worker.addEventListener("message",this.onSkinLoaded.bind(this))}).catch(()=>{(0,i.$s)(2,`Skin worker failed to load asynchronously from file at "${t}"?`)})}clearCallbacks(){this.loaders.clear()}loadSkin(e,t){let s;if(!this.loaders.has(e))return this.loaders.set(e,s={callbacks:[t]}),this.worker.postMessage(e),n.bind(null,s,t);if(null!=(s=this.loaders.get(e)).image)t(s.image);else if(!s.errored)return s.callbacks.push(t),n.bind(null,s,t);return null}onSkinLoaded(e){var t=e["data"],e=this.loaders.get(t.url);if(t.errored)e.errored=!0,e.callbacks.length=0;else{e.image=t.image;for(var s=e["callbacks"];s.length;)s.pop()(t.image)}}}},63400:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(78258);let n=new class{constructor(){this.selectedServer=null,this.spectatorCount=0,this.isAutoRespawning=[!1,!1],this.isAlive=[!1,!1],this.pids=[0,0],this.activeContext=0,this.rendering=!0,this.connectionUrl=null,this.activeContext=i.A.get("activeTabContext"),(isNaN(this.activeContext)||0!==this.activeContext&&1!==this.activeContext)&&(this.activeContext=0,i.A.set("activeTabContext",0))}reset(){delete this.selectedServer,this.spectatorCount=0,this.isAutoRespawning=[!1,!1],this.isAlive=[!1,!1],this.pids=[0,0],this.spawnButtonText="Play",this.connectionUrl=null}setSelectedServer(e){this.selectedServer=e,this.connectionUrl=e.url}}},67162:(e,t,s)=>{s.d(t,{Sl:()=>i});s(58339);let i=(e,t)=>{var s=e.x-t.x,e=e.y-t.y;return s*s+e*e}},96491:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(58339);class n{constructor(){this.samples=[],this.average=0,this.current=0,this.total=0}reset(){this.samples.length=0,this.average=0,this.current=0,this.total=0}update(e){var t=this.samples;t.push(this.current=e),128<t.length?(t.shift(),this.average=t.reduce((e,t)=>e+t)/t.length):this.average=e,this.total++}get minimum(){return 0!=this.samples.length?i.jk(...this.samples):0}get maximum(){return 0!=this.samples.length?i.T9(...this.samples):0}}},83439:(e,t,s)=>{s.d(t,{$s:()=>c,Cc:()=>o,N:()=>a,X0:()=>h,hJ:()=>d,me:()=>u,oR:()=>g,rO:()=>m,v2:()=>p});var t=s(78465),t=s.n(t),i=s(58339),n=s(78258);let o=(e,t,s)=>e+(t-e)*s,a=(e,t,s)=>i.jk(s,i.T9(t,e));var r=["INFO","WARN","ERROR","DEBUG","FATAL"].map(e=>"["+e+"]");let l=new Map([[0,console.log.bind(null,r.shift())],[1,console.warn.bind(null,r.shift())],[2,console.error.bind(null,r.shift())],[3,console.log.bind(null,r.shift())],[4,console.error.bind(null,r.shift())],[5,console.log.bind(null)]]),A=new Function(atob("cmV0dXJuKF8sLi4uX18pPT57Xy5jYWxsKG51bGwsLi4uX18pfQ=="))(),c=(e,...t)=>{l.has(e)&&A(l.get(e),...t)},h=(e,...t)=>{e||l.get(4)("Assertion failed:",...t)},d=(e,t)=>{var s=n.A["inputs"];e.writeEscapedStringNT(s.names[t]),e.writeEscapedStringNT(s.skins[t]),e.writeEscapedStringNT(s.tags[t])},g=(s.g.Swal=t(),t().mixin({toast:!0,position:"top",showConfirmButton:!1,showCloseButton:!0})),u=(e,t,s)=>{let i;if("string"!=typeof t)switch(t){default:case 0:case void 0:i="info";break;case 1:i="warning";break;case 2:i="error";break;case 3:i="success";break;case 4:i="question"}else i=t;t="number"==typeof t?t:"info",g.fire({icon:i,title:e,timer:s||("error"===i?5e3:2e3)})},p=(e,t=.5)=>{return~~((e>>16)*t)<<16|~~((e>>8&255)*t)<<8|~~((255&e)*t)<<0},m=()=>{var e=new Date;return("0"+e.getHours()).slice(-2)+`:${("0"+e.getMinutes()).slice(-2)}:`+("0"+e.getSeconds()).slice(-2)}},41904:(e,t,s)=>{var i=s(95826),n=s(14098),o=s(78258),a=s(83439),r=s(31024),l=s(24239),A=s(26814),c=s(87706),h=s(31628);let d=(e,t)=>Math.random()*(t-e)+e;class g{constructor(e){(this.container=e).addChild(this.graphic=new c.Graphics);e=g.used.indexOf(!1);(0,a.X0)(0<=e,"Too many elements are being used (exceeded limit of 512"),g.used[e]=!0,this.id=e}spawn(e){this.position=e,this.angle=d(-3,3),this.radius=d(2,5),this.speed=d(.5,3),this.color=o.A.get("useFoodColor")?parseInt(o.A.get("foodColor"),16):r.pz[this.id%r.pz.length],this.graphic.beginFill(this.color).drawCircle(0,0,this.radius).endFill(),this.glow=o.A.get("menuFoodGlow")}destroy(){g.used[this.id]=!1,this.container.removeChild(this.graphic),this.graphic.destroy(!0)}update(e){var e=this.speed*e,{x:e,y:t}=(this.position.add(Math.cos(this.angle)*e,Math.sin(this.angle)*e),this.radius+=.0035*e,this.position);this.graphic.position.set(e,t)}collidesBorder(e){return this.position.collides(e.x+this.radius,e.y+this.radius)}set glow(e){this.graphic.filters=e?[new h.qx({color:this.color,distance:10+~~this.radius,outerStrength:5,quality:.8,innerStrength:3,knockout:!1})]:[]}}g.used=new Array(512).fill(!1);let u=new class{constructor(){this.maxPosition=i.A.from(),this.position=i.A.from(),this.running=!1,this.needsSpawn=!0,this.onResize=()=>{var e=window.innerWidth,t=window.innerHeight;this.app.renderer.resize(e,t),this.position.set(0,0),this.maxPosition.set(e,t),this.container.x=this.app.screen.width/2,this.container.y=this.app.screen.height/2,this.container.pivot.x=0,this.container.pivot.y=0},this.animate=e=>{if(n.A.running)return this.stop();if(this.running){var t=performance.now();this.startStamp||(this.startStamp=this.lastStamp=t);let e=(t-this.lastStamp)/6;var s=t-this.startStamp-550;0<s&&(s=Math.min(s/1e3,1.2),e/=Math.pow(3,s)),this.update(e),this.lastStamp=t}},this.canvas=document.querySelector(".particles.canvas"),this.app=new c.Application({width:window.innerWidth,height:window.innerHeight,resolution:devicePixelRatio,view:this.canvas,forceCanvas:!o.A.useWebGL,antialias:!0,powerPreference:"high-performance",backgroundColor:parseInt(o.A.get("backgroundColor"),16),autoDensity:!0}),(0,l.h0)(this.app),this.app.stop(),this.app.ticker.add(this.animate),this.container=new c.Container,this.app.stage.addChild(this.container),this.items=new Set;for(let e=0;e<96;e++)this.items.add(new g(this.container));this.container.x=this.canvas.width/2,this.container.y=this.canvas.height/2,o.A.on("setting-changed",(e,t)=>{"useFoodColor"===e?this.needsSpawn=!0:"menuFoodGlow"===e&&this.items.forEach(e=>{e.glow=t})})}start(){this.running||(this.onResize(),window.addEventListener("resize",this.onResize),this.needsSpawn=!0,this.running=!0,this.app.start(),(0,l.L2)(!1),this.visible=!0)}stop(){this.running&&((0,l.L2)(!0),this.visible=!1,window.removeEventListener("resize",this.onResize),this.app.stop(),this.app.renderer.clear(),delete this.startStamp,delete this.lastStamp,this.running=!1)}update(t){this.items.forEach(e=>{(this.needsSpawn||e.collidesBorder(this.maxPosition))&&e.spawn(this.position.clone().add(d(-200,200),d(-200,200))),e.update(t)}),this.needsSpawn=!1}set visible(e){this.canvas.classList[e?"remove":"add"]("hide")}};s.g.particleAnimator=u,n.A.on("stopped",()=>u.start()),(0,A.wg)(()=>{n.A.running||u.start()})},12474:(e,t,s)=>{s.d(t,{A:()=>i});class i{constructor(){this.running=!1,this.tasks=[],this.onStep=()=>{var e;this.running&&((e=this.tasks.shift())?.(),this.add(e),requestAnimationFrame(this.onStep))}}add(e){this.tasks.push(e)}start(){this.running||(this.running=!0,this.onStep())}stop(){this.running&&(this.running=!1)}}},81963:(e,t,s)=>{s.d(t,{h:()=>n});var h=s(14098),d=s(63400),i=s(27241),g=s(26814),u=s(74444);let n=new class{constructor(){this.cells=[],h.A.onCellAdded=(n,o)=>{if(this.target&&o.isPlayerCell){let t=o;if(t.pid===this.target.pid){o=this.cells.some(e=>t.id===e)?-1:this.cells.push(t.id);if(!this.done&&o>=this.startingCount+15){if(this.done=!0,d.A.activeContext!==this.context){o=u.DH.values().filter(e=>this.cells.includes(e.id)).reduce((e,t)=>e&&e.newSize>t.newSize?e:t);if(o){var a,r,l,A=o.newPosition;let e=0,t,s,i;for(i of h.A.ownedCells)i.pid===d.A.pids[n]&&(r=i.position,a=A.x-r.x,r=A.y-r.y,l=Math.hypot(a,r),(l=i.mass/l)>e)&&(e=l,t=a,s=r);0!==e&&(o=Math.atan2(s,t),(c=h.A.mouses[n]).x=c.x+1e4*Math.cos(o),c.y=c.y+1e4*Math.sin(o),h.A.connections[this.context].sendMousePacket())}}0===this.splitType?this.split(1,this.context):1===this.splitType?this.doubleSplit(this.context):2===this.splitType?this.lineSplit(this.context):this.trickSplit(this.context),this.reset();var c=0===this.splitType?"one split":1===this.splitType?"double split":2===this.splitType?"line split":"trick split";this.setStatus(`Triggered ${c} on selected player!`),(0,g.wg)(()=>{delete this.done,this.setStatus(null)},800)}}}},h.A.onCellEaten=(e,t,s)=>{this.target&&t instanceof i.kF&&(t.pid!==this.target.pid||(t=this.cells.indexOf(t.id))<0||this.cells.splice(t,1))},this.reset(),h.A.on("stopped",()=>this.reset()),h.A.on("started",()=>this.reset())}watch(e,t){e=h.A.playerManager.get(e);e&&(this.context=d.A.activeContext,this.target=e,this.splitType=t,this.setStatus(`Watching ${e.name} on tab `+(1+this.context)),0!==(t=h.A.playerCells.filter(e=>e.pid===this.target.pid).map(e=>e.id)).length)&&(this.startingCount=this.cells.push(...t))}reset(){delete this.context,delete this.target,this.cells.length=0,this.startingCount=0,this.setStatus("Waiting to watch player")}setStatus(e){h.A.emit("trigger-status-update",e)}split(e,t){t=h.A.connections[t];h.A.stopMovementPacketsFor<0&&t.sendMousePacket(),t.sendSplitPacket(e),h.A.splitCount+=e,h.A.splitCount<=2?h.A.disallowMovementStamp=performance.now()+300:(delete h.A.disallowMovementStamp,h.A.splitCount=0)}doubleSplit(e){this.split(2,e)}lineSplit(e){this.unlockTimeout&&(0,g.DJ)(this.unlockTimeout),h.A.actions.freezeMouse(!0),this.split(3,e),this.unlockTimeout=(0,g.wg)(()=>{delete this.unlockTimeout,h.A.actions.freezeMouse(!1)},1500)}trickSplit(e){this.split(2,e),h.A.connections[e].sendFeedPacket(!0),(0,g.wg)(()=>this.split(8,e))}}},43703:(e,t,s)=>{s(86357),s(14666);var i=s(14098),n=s(71675),o=s(83439),a=s(58339),r=s(26814),l=(s(83554),s(87706)),A=(s(78465),s(6716));s(41904),s.g.PIXI=l,(0,o.me)(`This client is currently in alpha and is subject to bugs.

Use with caution! (v${n.rE}) `,1,2500),(0,o.$s)(5,`%c %c${decodeURI(atob("JUUyJTk4JTg2"))} Axon for Vanis.io - v${n.rE} %c `,"background-color:#b2beb5;padding:3px;","background-color:#353839;color:#e5e4e2;font-weight:bold;padding:3px;","background-color:#b2beb5;padding:3px;"),(0,o.$s)(0,"Game instance",i.A),(0,o.$s)(0,"Running PIXI v"+l.VERSION),localStorage.setItem("clientVersion",n.rE),new A.A({target:document.body}),document.body.addEventListener("contextmenu",e=>e.preventDefault());for(let e=1;e<=16;e++)(0,r.wg)(()=>{location.hash="#"+(8192+a.RI(8192*a.yT())).toString(16)},20*e);(0,r.wg)(()=>{location.hash="A"},320),(0,o.$s)(0,"Client loaded")},31363:(e,t,s)=>{s.d(t,{h:()=>n});var c=s(71675),h=s(14098),d=s(63400),g=s(83439),u=s(47665),p=s(18522),m=s(54603);let C="cachedServers",i="regionCode",w=["ovt","ffa","instant","gigasplit","megasplit","terasplit","crazy","self-feed"];class n{constructor(){this.regions=["EU","NA","AS"],this.lastLoadStamp=-1,this.sortCallback=(e,t)=>{var s=(e.index||99)-(t.index||99);return 0==s?e.name.localeCompare(t.name,"en",{numeric:!0,ignorePunctuation:!0}):s},h.A.on("every-minute",this.load.bind(this)),this.load(!0),h.A.on("menu-visibility",e=>e&&this.load(!0)),this.getRegionCode().then(e=>{e&&this.regions.includes(e)||(e=this.regions[0]),this.selectRegion(e)})}selectRegion(e){localStorage.setItem(i,e),(0,m.Jt)(u.oo).forEach(e=>e.visible=!1),u.aK.set(e)}getRegionCode(){return i in localStorage?Promise.resolve(localStorage.getItem(i)):fetch("https://ipapi.co/json").then(e=>e.json()).then(e=>e.continent_code).catch(()=>null)}async load(e){if(!e&&(!h.A.menuVisible||performance.now()<=this.lastLoadStamp+6e4))return!1;let t;try{t=await fetch(c.VY+"gameservers.json")}catch(e){return(0,g.$s)(1,this.error=`Failed fetching servers {${e})`),!1}if(!t.ok)return(0,g.$s)(1,this.error="Failed fetching servers with status: "+t.status),!1;let s=await t.text();if(0===s.length)return(0,g.$s)(1,this.error="Failed fetching servers (returned nothing)"),!1;let i;try{i=JSON.parse(s)}catch(e){(0,g.$s)(1,`Failed fetching servers (couldn't pass JSON: "${s}")`);try{i=JSON.parse(localStorage.getItem(C))}catch(e){return u.b0.set([]),!1}}if("selectedServer"in localStorage){let t,s=localStorage.getItem("selectedServer");try{t=JSON.parse(s)}catch(e){(0,g.$s)(1,`Failed parsing selected server (value: "${s}"")`)}(t=t&&i.filter(e=>e.name===t.name&&e.region==t.region)?.[0])&&(d.A.setSelectedServer(t),u.BA.set(t.url))}u.b0.set(i.sort(this.sortCallback));var n=new Array(w.length),o=(u.AQ.set(null),(0,m.Jt)(u.b0).length);let a=0;for(;a<o;){var r=i[a++],l=r.name.match(/(\'?\w+([-']\w+)*\'?)/)?.[0].toLowerCase(),l=w.indexOf(l);if(!(l<0)){let e;(e=l in n?n[l]:n[l]=[]).push(r)}}var e=n.filter(e=>!!e).map((e,t)=>{let s;return(s=(0,m.Jt)(u.oo)[t])instanceof p.y?s.update(e):s=new p.y(e),s}),A=e.findIndex(e=>"ovt"===e.mode);return 0<=A&&(u.AQ.set(e[A]),e.splice(A,1)),u.oo.set(e),localStorage.setItem(C,s),!0}join(e){var s={first:!0};if(h.A.emit("connect-server",s,e.url),!s.wait){localStorage.setItem("selectedServer",JSON.stringify(e)),d.A.setSelectedServer({...e}),h.A.connection.joinSpectateRequested=!0,u.BA.set(e.url);let t=1+d.A.activeContext;s.promise.then(e=>(0,g.$s)(0,`Connection attempt for tab ${t} was `+(e?"successful":"unsuccessful")))}}}},18522:(e,t,s)=>{s.d(t,{y:()=>o});var i=s(47665),n=s(54603);class o{constructor(e){this.visible=!1,this.update(e)}get regionServers(){return this.servers.filter(e=>{e=(e=e).region?e.region.toUpperCase():(e=e.url.toLowerCase().match(/game-([a-z]{2})/))?e[1].toUpperCase():"";return!e||e===(0,n.Jt)(i.aK)})}update(e){this.name=0<e.length?e[0].name.match(/(\'?\w+([-']\w+)*\'?)/)?.[0]:"N/A",this.mode=this.name.toLowerCase(),this.servers=e}add(e){this.servers.push(e)}remove(e){e=this.servers.indexOf(e);0<=e&&this.servers.splice(e,1)}toggleVisibility(){this.visible=!this.visible}}},21068:(e,t,s)=>{s.d(t,{z:()=>n});let i=s(54603),n=(0,i.T5)(!0)},84293:(e,t,s)=>{s.d(t,{E:()=>n,b:()=>i});var i,t=s(54603);(s=i=i||{})[s.None=-1]="None",s[s.Settings=0]="Settings",s[s.Themes=1]="Themes",s[s.Inputs=2]="Inputs",s[s.Replays=3]="Replays",s[s.Leaderboard=4]="Leaderboard";let n=(0,t.T5)(i.None)},59434:(e,t,s)=>{s.d(t,{m7:()=>o,pB:()=>r,qC:()=>a,xR:()=>l});let i=s(54603),n=s(63400),o=s.g.canSpectate=(0,i.T5)(!0),a=s.g.canSpawn=(0,i.T5)(!0),r=(0,i.T5)(""),l=(0,i.T5)(n.A.activeContext)},47665:(e,t,s)=>{s.d(t,{AQ:()=>l,BA:()=>A,aK:()=>o,b0:()=>r,oo:()=>a,pc:()=>c});let i=s(31363),n=s(54603),o=(0,n.T5)(""),a=(0,n.T5)([]),r=(0,n.T5)([]),l=(0,n.T5)(null),A=(0,n.T5)(""),c=new i.h},53462:(e,t,s)=>{s.d(t,{KP:()=>d,NC:()=>u,Xt:()=>g,Yo:()=>A,ZK:()=>c,fN:()=>l,fj:()=>r,hU:()=>o,hZ:()=>h,rd:()=>a,uU:()=>n});let i=s(46789),n=new i.A("fps",!1,0),o=new i.A("ping",!1,0),a=new i.A("playerMass",!1,""),r=new i.A("totalPlayerMass",!1,""),l=new i.A("playerScore",!1,""),A=new i.A("cellCount",!1,0),c=new i.A("latencyWarning",!0,!1),h=new i.A("triggerStatus",!0,""),d=new i.A("mouseFrozenFor",!1,-1),g=new i.A("movementStoppedFor",!1,-1),u=new i.A("linesSlittingFor",!1,-1)},46789:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(54603);class n{constructor(e,t,s){this.value=(0,i.T5)(),this.visible=(0,i.T5)(),this.key=e,this.value=(0,i.T5)(s),this.visible=(0,i.T5)(t)}set(e){this.value.set(e)}show(){this.visible.set(!0)}hide(){this.visible.set(!1)}get name(){return this.key}subscribe(e){return this.value.subscribe(e)}}},8416:(e,t,i)=>{i.d(t,{A:()=>C});var n=i(78258),o=i(63400),a=i(83439),r=i(21746),l=i(26172),s=(i(39031),i(96491)),A=i(59434),c=i(71675),h=i(98727),d=i(29338),t=i(80919),g=i(58339),u=i(26814),p=i(2440);let m=new t.A;class C{set connected(e){this.game.emit("connection-state",this.context,e),this._connected=e}get connected(){return this._connected}setTagId(e){return(e=e||null)!==this.tagId&&(this.tagId=e,!0)}constructor(e,t){this.opened=!1,this._connected=!1,this.socketCount=0,this.serverUrl=null,this.activeServerUrl=null,this.whitelistUrl=null,this.pingStamp=0,this.ping=new s.A,this.game=e,this.context=t}async init(e){return Promise.resolve().then(()=>!0)}open(s,i){return new Promise(async e=>{if(this.game.running&&!this.opposedConnection.opened&&(this.game.stop(),o.A.activeContext=this.context),this.opened&&((0,a.$s)(1,"Closing existing connection for tab "+(1+this.context)),this.close()),!await this.init(this.whitelistUrl=i||s.replace("ws","http")))return e(!1);this.serverUrl=s,this.opened=!0,this.resolveConnectionState=e;let t=this.ws=new d.A(s,"tFoL46WDlZuRja7W6qCl");t.binaryType="arraybuffer",t.packetCount=0,t.onopen=()=>{if(!this.opened)return e(!1);(0,a.me)("Connection established for tab "+(1+this.context),3),this.socketId=this.socketCount++,this.activeServerUrl=s,t.onclose=this.onClosed.bind(this)},t.onclose=this.onRejected.bind(this),t.onmessage=this.handleMessage.bind(this)})}close(){var e=this.ws;e&&(e.onmessage=null,e.onclose=null,e.onerror=null,e.close(),delete this.ws,delete this.serverUrl,delete this.activeServerUrl,delete this.whitelistUrl,this.pingStamp=0,this.ping.reset(),this.opened=this.connected=!1,delete this.joinSpectateRequested,delete this.spectateRequested,delete this.spawnRequested,delete this.switchRequested,delete this.lastDeathTime,this.poolInterval&&(clearInterval(this.poolInterval),delete this.poolInterval),delete this.tagId)}send(e){var t;return e instanceof p.A&&(e=e.toBuffer()),!!this.opened&&(t=this.ws,(0,a.X0)(t instanceof d.A,"Socket not defined?"),t.send(e),!0)}onClosed(t){delete this.socketId,this.opened=this.connected=!1,this.resolveConnectionState?.(!1);var e=this.game;e.running&&(1003!==t.code&&e.getConnected(0==this.context?1:0)?e.clearCells(this.context,!0):e.stop());let s;if(1003===t.code)s=1500,this.context===o.A.activeContext&&(0,a.me)("Server restarting...");else{s=3e3+~~(100*g.yT());let e=`Tab ${1+this.context} was disconnected`;"string"==typeof t.reason&&(e+=` (${t.reason})`),(0,a.me)(e,2)}(0,u.wg)(()=>{!this.opened&&this.activeServerUrl&&this.activeServerUrl===this.serverUrl&&((0,a.me)(`Tab ${1+this.context} reconnecting to server...`),this.serverUrl)&&this.open(this.serverUrl,this.whitelistUrl)},s),e.getConnected(0==this.context?1:0)||e.menuVisible||e.setMenuVisibility(!0)}onRejected(){delete this.socketId,(this.opened=this.connected=!1,a.me)(`Connection for tab ${1+this.context} rejected`,2),this.resolveConnectionState?.(!1)}onInitialPacket(e){let t=this.game;this.context===o.A.activeContext&&(s=""+atob("QXhvbiB2")+c.rE+" | "+atob("RGV2ZWxvcGVkIGJ5IEFlcm8="),this.game.emit("system-message",s));var s=(0,r.O4)(e);let i=o.A.pids[this.context]=s.playerId;this.poolInterval=(0,u.yb)(()=>{var e;this.opened||(clearInterval(this.poolInterval),delete this.poolInterval),t.playerManager.has(i)&&(clearInterval(this.poolInterval),delete this.poolInterval,(e=t.playerManager.get(i)).isMe=!0,t.playerManager.setLocal(this.context,e),this.context===o.A.activeContext)&&t.updateOutlines(0===o.A.activeContext?1:0,o.A.activeContext)},40),t.running||t.start(s),this.lastDeathTime=performance.now(),(0,u.wg)(()=>{if(!t.getAlive(this.context)){null!=this.switchRequested&&(o.A.activeContext=this.context,n.A.set("activeTabContext",this.context),delete this.switchRequested);let e=!1;null!=this.spawnRequested?(this.sendSpawnPacket(),delete this.spawnRequested,e=!0):null!=this.spectateRequested?(t.actions.spectate(null,null,this.context),delete this.spectateRequested,e=!0):null!=this.joinSpectateRequested&&(t.actions.spectate(null,null,this.context),t.mouseZoom=.04,delete this.joinSpectateRequested),e&&t.setMenuVisibility(!1)}},30+~~(30*g.yT())),this.connected=!0,this.resolveConnectionState?.(!0)}onAuthenticatePacket(e){e=new u.SE(e.buffer,1);this.sendJoinPacket(new h.A(e).getValue())}onPongPacket(){var e=this.game,t=g.LI(performance.now()-this.pingStamp);this.ping.update(t),this.isActiveOrPriority&&e.emit("ping-changed",t)}onRemovedPlayersPacket(e){var t,s=this.game;if(this.isActiveOrPriority)for(;0!==(t=e.readUInt16LE());)s.playerManager.remove(t,!0)}onCrownUpdatePacket(e){var t,s,i=this.game;this.isActiveOrPriority&&(1&(t=e.readUInt8())&&(s=e.readUInt16LE(),i.playerManager.get(s)?.setCrown(!0)),2&t)&&(s=e.readUInt16LE(),i.playerManager.get(s)?.setCrown(!1))}onCellsPacket(e){var t=this.game,s=(t.updatePacketStamps[this.context]=performance.now(),performance.now()),s=(this.isActiveOrPriority&&(t.renderStamp=s),(0,l.f)(e,this.context)),e=0!=(t.cellCounts[this.context]=s);t.setAlive(this.context,e),e?t.setSpectating(this.context,!1):o.A.isAutoRespawning[this.context]&&37==++t.ticksSinceDeath[this.context]&&t.triggerAutoRespawn(this.context),this.isActiveOrPriority&&(t.updateCamera(!0),t.playerManager.sweepRemovedPlayers())}onChatPacket(t){var e=this.game,t={pid:t.readUInt16LE(),text:t.readEscapedStringNT()};if(0===t.pid){if(this.context===o.A.activeContext){if(/Welcome to Vanis\.io,.+\!/.test(t.text)){let e="unknown server";var s,i=o.A.selectedServer;i?e=i.region+" "+i.name:0<=(i=t.text.indexOf(","))&&0<=(s=t.text.indexOf("!",i+=2))&&(e=t.text.substring(i,s)),t.text="Connected to "+e}this.game.emit("server-message",t.text)}}else 1<e.activeContexts&&this.tagId===this.opposedConnection.tagId&&this.context!==o.A.activeContext||e.playerManager.has(t.pid)&&(i=e.playerManager.get(t.pid),t.timeStampColor=PIXI.utils.hex2string(i.cellColor),1<e.activeContexts&&this.tagId!==this.opposedConnection.tagId&&(t.fromContext=this.context),t.from=i.name,i.nameColorCss&&(t.fromColor=i.nameColorCss),this.game.emit("player-message",t))}handleMessage(e){var t=p.A.fromBuffer(e.data);let s=this.game;switch(t.readUInt8()){case 1:return this.onInitialPacket(t);case 2:return this.onAuthenticatePacket(t);case 3:return this.onPongPacket();case 4:return this.onRemovedPlayersPacket(t);case 6:return void this.sendOpcodePacket(6);case 7:return this.onCrownUpdatePacket(t);case 10:return this.onCellsPacket(t);case 11:return this.isActiveOrPriority?void(0,r.Zj)(t):void 0;case 13:return this.onChatPacket(t);case 16:return void(0,r.ci)(t,this.context);case 17:return this.isActiveOrPriority?void s.camera.spectatorPosition.set(t.readVector2(1,!0)):void 0;case 18:return void s.clearCells(this.context);case 20:return void(n.A.get("autoRespawn")&&!this.game.menuVisible?(o.A.isAutoRespawning[this.context]=!0,performance.now()-this.lastDeathTime<=6e4?s.ticksSinceDeath[this.context]=0:(this.lastDeathTime=performance.now(),s.deathTimeouts[this.context]=(0,u.wg)(()=>{o.A.isAutoRespawning[this.context]&&(s.ticksSinceDeath[this.context]=0)},1900))):s.deathTimeouts[this.context]=(0,u.wg)(s.triggerDeathDelay.bind(s,this.context),900));case 22:return"grecaptcha"in window?void m.request(this):void alert("Captcha library is not loaded");case 26:return A.qC.set(!t.readUInt8()),void(t.length>t.offset+1&&A.pB.set(t.readString()||"Play as tab "+(1+o.A.activeContext)))}}sendJoinPacket(e){var t="ignoreToken"in i.g||!/^wss?:\/\/[a-zA-Z0-9_-]+\.vanis\.io/i.test(this.activeServerUrl)?null:localStorage.vanisToken;let s=p.A.fromSize(2+e.length+("string"==typeof t?t.length:0));s.writeUInt8(5),s.writeUInt8(this.game.clientProtocol),e.forEach(e=>s.writeUInt8(e)),(0,a.hJ)(s,this.context),"string"==typeof t&&s.writeStringNT(t),this.send(s)}sendMousePacket(){var e=p.A.fromSize(5),{x:t,y:s}=(e.writeUInt8(16),this.game.mouses[this.context]);e.writeInt16LE(t),e.writeInt16LE(s),this.send(e)}sendOpcodePacket(e){var t=p.A.fromSize(1);t.writeUInt8(e),this.send(t)}sendPingPacket(){var e=p.A.fromSize(1),t=(e.writeUInt8(3),performance.now()),e=(this.send(e),performance.now()-t);return 0!=e?t+e:t}sendCaptchaTokenPacket(e){var t;"string"==typeof e&&((t=p.A.fromSize(1+(e.length+1))).writeUInt8(11),t.writeStringNT(e),this.send(t))}sendChatMessagePacket(e){e=(0,u.x4)(encodeURIComponent(e));var t=p.A.fromSize(1+e.length);t.writeUInt8(99),t.writeString(e),this.send(t)}sendSpectatePacket(e){var t=p.A.fromSize(null!=e?3:1);t.writeUInt8(2),"number"==typeof e&&t.writeInt16LE(e),this.send(t)}sendSpawnPacket(){var e=p.A.fromSize(1);e.writeUInt8(1),(0,a.hJ)(e,this.context),this.send(e)}sendToggleSpectateLockPacket(){this.sendOpcodePacket(10)}sendFeedPacket(e){var t=!!arguments.length,s=p.A.fromSize(t?2:1);s.writeUInt8(21),t&&s.writeUInt8(+e),this.send(s)}sendSplitPacket(e){var t=p.A.fromSize(2);t.writeUInt8(17),t.writeUInt8(e),this.send(t)}get isActiveOrPriority(){return this.context===o.A.activeContext||!this.game.getConnected(o.A.activeContext)}get opposedConnection(){return this.game.connections[0==this.context?1:0]}}},2440:(e,t,s)=>{s.d(t,{A:()=>g});var i=s(95826),r=s(85076),n=s(26814);let l={i8:n.U$.prototype.getInt8,u8:n.U$.prototype.getUint8,i16:n.U$.prototype.getInt16,u16:n.U$.prototype.getUint16,i32:n.U$.prototype.getInt32,u32:n.U$.prototype.getUint32},o={i8:n.U$.prototype.setInt8,u8:n.U$.prototype.setUint8,i16:n.U$.prototype.setInt16,u16:n.U$.prototype.setUint16,i32:n.U$.prototype.setInt32,u32:n.U$.prototype.setUint32},a=(e,t,s,i,n)=>{return"number"!=typeof n&&(n=e.offset,e.offset+=s),t.call(e.view,n,i)},A=(e,t,s,i,n,o)=>{c(e,i),"number"!=typeof o&&(o=e.offset,e.offset+=i),t.call(e.view,o,s,n)},c=(e,t)=>{var t=e.offset+t;t>e.length&&(t=new n.Az(t),new n.SE(t).set(new n.SE(e.toBuffer())),e.view=new n.U$(t))},h={utf8:(e,t,s=!1)=>{var i=e.length;let n="number"==typeof t?t:e.offset,o="";for(;n<i;n++){var a=l.u8.call(e.view,n);if(s&&0===a)return"number"!=typeof t&&(e.offset=n+1),o;o+=r.QV(a)}return o},utf16:(e,t,s=!1)=>{var i=e.length;let n="number"==typeof t?t:e.offset,o="";for(;n<i-1;n+=2){var a=l.u16.call(e.view,n);if(s&&0===a)return"number"!=typeof t&&(e.offset=n+2),o;o+=r.QV(a)}return o}},d={utf8:(t,s,i)=>{var n=s.length;c(t,n),"number"!=typeof i&&(i=t.offset,t.offset+=n);for(let e=0;e<n;e++)o.u8.call(t.view,i+e,s.charCodeAt(e))},utf16:(t,s,i)=>{var n=s.length;c(t,2*n),"number"!=typeof i&&(i=t.offset,t.offset+=2*n);for(let e=0;e<n;e++)o.u16.call(t.view,i+2*e,s.charCodeAt(e))}};class g{constructor(e,t){if(this.offset=0,e instanceof n.U$)this.view=e;else{if(!(e instanceof n.Az))throw new TypeError("First argument to SmartBuffer constructor must be an ArrayBuffer or DataView");this.view=new n.U$(e)}"number"==typeof t&&(this.offset=t)}static fromSize(e){return new this(new n.Az(e),0)}static fromBuffer(e,t){return new this(e,t)}get buffer(){var e=this["view"];return null!=e?e.buffer:null}toBuffer(){return this.buffer}get length(){var e=this["view"];return null!=e?e.byteLength:0}get eof(){return this.offset>=this.length}readInt8(e){return a(this,l.i8,1,void 0,e)}readUInt8(e){return a(this,l.u8,1,void 0,e)}readInt16LE(e){return a(this,l.i16,2,!0,e)}readInt16BE(e){return a(this,l.i16,2,!1,e)}readUInt16LE(e){return a(this,l.u16,2,!0,e)}readUInt16BE(e){return a(this,l.u16,2,!1,e)}readInt32LE(e){return a(this,l.i32,4,!0,e)}readInt32BE(e){return a(this,l.i32,4,!1,e)}readUInt32LE(e){return a(this,l.u32,4,!0,e)}readUInt32BE(e){return a(this,l.u32,4,!1,e)}readVector2(e,t){return"number"!=typeof e&&(e=this.offset,this.offset+=4),i.A.from(l.i16.call(this.view,e,t),l.i16.call(this.view,e+2,t))}readString(e="utf8",t){return h[e](this,t,!1)}readStringNT(e="utf8",t){return h[e](this,t,!0)}readEscapedStringNT(e="utf8",t){return(0,n.IU)((0,n.ih)(this.readStringNT(e,t)))}writeInt8(e,t){A(this,o.i8,e,1,void 0,t)}writeUInt8(e,t){A(this,o.u8,e,1,void 0,t)}writeInt16LE(e,t){A(this,o.i16,e,2,!0,t)}writeInt16BE(e,t){A(this,o.i16,e,2,!1,t)}writeUInt16LE(e,t){A(this,o.u16,e,2,!0,t)}writeUInt16BE(e,t){A(this,o.u16,e,2,!1,t)}writeInt32LE(e,t){A(this,o.i32,e,4,!0,t)}writeInt32BE(e,t){A(this,o.i32,e,4,!1,t)}writeUInt32LE(e,t){A(this,o.u32,e,4,!0,t)}writeUInt32BE(e,t){A(this,o.u32,e,4,!1,t)}writeString(e,t="utf8",s){d[t](this,e,s)}writeStringNT(e,t="utf8",s){d[t](this,e,s),"utf8"===t?this.writeUInt8(0):this.writeUInt16LE(0)}writeEscapedString(e,t="utf8",s){this.writeString((0,n.x4)((0,n.OH)(e)),t,s)}writeEscapedStringNT(e,t="utf8",s){this.writeStringNT((0,n.x4)((0,n.OH)(e)),t,s)}}},21746:(e,t,s)=>{s.d(t,{O4:()=>i,Zj:()=>c,ci:()=>A});var n=s(14098),o=s(63400),a=s(52875),r=s(84625),l=s(78258);let i=e=>{var t,s,i,n={},o=n.border={},a=n.food={minSize:0,maxSize:0,stepSize:1,ejectedSize:1};return n.protocol=e.readUInt8(),4<=n.protocol?(n.gamemodeId=e.readUInt8(),n.serverSeed=e.readUInt16LE(),n.playerId=e.readUInt16LE(),o.minx=e.readInt16LE(),o.miny=e.readInt16LE(),o.maxx=e.readInt16LE(),o.maxy=e.readInt16LE(),t=e.readUInt8(),o.circle=!!(1&t),2&t&&(s=a.minSize=e.readUInt16LE(),i=a.maxSize=e.readUInt16LE(),a.stepSize=i-s),4&t&&(a.ejectedSize=e.readUInt16LE()),o.width=o.maxx-o.minx,o.height=o.maxy-o.miny):(2<=n.protocol?(n.gamemodeId=e.readUInt8(),n.serverSeed=e.readUInt16LE(),n.playerId=e.readUInt16LE(),o.width=e.readUInt32LE(),o.height=e.readUInt32LE()):(n.gamemodeId=1,n.serverSeed=e.readInt16LE(),n.playerId=e.readInt16LE(),i=e.readUInt16LE(),o.width=i,o.height=i),o.minx=-o.width/2,o.miny=-o.height/2,o.maxx=+o.width/2,o.maxy=+o.height/2),o.x=(o.minx+o.maxx)/2,o.y=(o.miny+o.maxy)/2,n},A=(e,t)=>{var e=JSON.parse(e.readEscapedStringNT()),i=e.find(t=>o.A.pids.some(e=>e===t.pid)),i=!!i&&n.A.connections[t].setTagId(i.tagId);if(t===o.A.activeContext){let t=new Set,s=new Set;e.forEach(e=>{e=n.A.playerManager.addOrUpdate(e);(e instanceof a.A?t:s).add(e)}),i&&(n.A.emit("minimap-positions",[]),n.A.playerManager.invalidateVisibility(t,s))}},c=e=>{for(var t=[];;){var s,i=e.readUInt16LE();if(0===i)return void n.A.emit("leaderboard-update",t);n.A.playerManager.has(i)&&((s=n.A.playerManager.get(i))instanceof r.A&&l.A.get("excludeBotsOnLeaderboard")||(i={pid:i,position:t.length+1,text:s.name},s instanceof r.A?(i.color="#ffffff",i.bold=!1):(i.color=s.nameColorCss||"#ffffff",i.bold=!!s.nameColor),t.push(i)))}}},80919:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(83439);let n;class o{handle(e){if(this.hide(),!this.connection)return(0,i.$s)(2,"Target connection not set for captcha handling class?");this.connection.sendCaptchaTokenPacket(e),delete this.connection}request(e){null==this.container&&(this.container=document.querySelector(".captcha-container")),this.visible=!0,this.connection=e,grecaptcha.ready(()=>{"number"==typeof n?grecaptcha.reset(n):n=grecaptcha.render(this.container,{sitekey:"6LfN7J4aAAAAAPN5k5E2fltSX2PADEyYq6j1WFMi",callback:this.handle.bind(this)})})}set visible(e){this.container.style.display=e?"":"none"}show(){this.visible=!0}hide(){this.visible=!1}}},26814:(e,t,s)=>{s.d(t,{Az:()=>a,DJ:()=>p,IU:()=>A,O3:()=>o,OH:()=>c,SE:()=>r,U$:()=>l,ih:()=>h,vG:()=>m,wg:()=>g,x4:()=>d,yb:()=>u});var i=s(85076);let n=[],o=([[193,200,186,233,201,200,219,173],[201,192,178,225,193,192,212,187,220,207,194,213,194,192,177,165],[181,182,235,212,227,195,231,193,226,237,201,231,228,176,156,156],[185,206,205,151,176,189,177,215,177,175,234,148],[232,213,228,184,176,128,224,186,228,228,216,216,223,128,135,194,177,213,135,195,232,229,131,126],[224,237,139,176,184,136,232,178,236,236,208,208,231,136,127,202,185,221,127,203,224,237,139,134],[215,213,235,199,214,213,223,201],[201,220,122,193,200,119,227,189,200,236,218,114],[143,222,130,220,130,115,152,160,134,131,229,221,144,109,233,233],[151,230,138,228,135,139,233,228,126,124,110,230,125,139,171,225],[116,205,147,167,116,115,133,112,156,114,204,167,157,206,113,203],[108,213,139,159,108,107,125,125,165,161,117,159,166,161,109,155,165,132,208,208]].forEach((e,s)=>{n.push(atob(e.map((e,t)=>(window.k,(0,i.QV)(e+((32|s)>>1)^(16|s)<<3))).join("")))}),delete window.k,s.g[n.shift()]),a=s.g[n.shift()],r=s.g[n.shift()],l=s.g[n.shift()],A=s.g[n.shift()],c=s.g[n.shift()],h=s.g[n.shift()],d=s.g[n.shift()],g=s.g[n.shift()],u=s.g[n.shift()],p=s.g[n.shift()],m=s.g[n.shift()]},98727:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(58339),i=s(85076),o=s(26814);let a;{let s=[121,111,117,32,115,107,105,100,46].map(e=>i.QV(e)).join("");a=[124,24,138,29,216,4,129,66,8].map((e,t)=>e^s.charCodeAt(t)+t)}class r{constructor(e){this.data=e instanceof o.SE?o.O3.from(e):e}writeIndex(e,t){var s=this.data[t],i=s+5&7,s=255&(s<<i|s>>>8-i),i=e[0!=t?t-1:0]^a[t];e[t]=s^i^a[8]}getValue(e=!1){let t=new o.O3(13),s=0;for(;s<8;)this.writeIndex(t,s++);var i=1+n.RI(2147483646*n.yT());return t[8]=t[0]^i>>24,t[9]=t[1]^i>>16,t[10]=t[2]^i>>8,t[11]=i^t[3],t[12]=t[0]^+e^31,t=t.map(e=>255&e)}}},58339:(e,t,s)=>{s.d(t,{F8:()=>g,LI:()=>d,RI:()=>r,RZ:()=>u,T9:()=>l,jk:()=>A,mk:()=>a,n7:()=>c,tn:()=>o,yT:()=>h});var i=s(85076);s(83439);let n;n=[189,209,228,216].map((e,t)=>(0,i.QV)(e-((t|=3)<<4)^t<<6)).join("");t=s.g[n];t.PI;let o=t.abs;t.acos,t.asin,t.atan,t.atan2;let a=t.ceil;t.cos,t.exp;let r=t.floor;t.log;let l=t.max,A=t.min,c=t.pow,h=t.random,d=t.round,g=t.sin,u=t.sqrt;t.tan,t.hypot},85076:(e,t,s)=>{s.d(t,{QV:()=>o});s(83439);let i,n;{i=String.fromCharCode(61317,60773,61269,61893,61509,61349,60805,61717);for(let e=0,t;e<8;e++)t=i.charCodeAt(e),t=65535&((65535&(t-=59957))>>4|t<<12),i=i.substr(0,e)+String.fromCharCode(65535&t)+i.substr(e+1);i=atob(i);let t=["ZnJvbUNoYXJDb2Rl","ZnJvbUNvZGVQb2ludA==","dG9TdHJpbmc="],s=window.k;n=e=>(e=(e^=s)+s,atob(t[e-1]))}t=s.g[i];let o=t[n(-63)];t[n(-64)],t[n(-61)]},29338:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(85076);s(83439);let n;n=[75,89,86,71,83,79,63,65,8].map((e,t)=>(0,i.QV)(e+((t|=1)<<3)^t<<2)).join("");t=s.g[n];t.prototype.packetCount=0,delete s.g[n];let o=t},95826:(e,t,s)=>{s.d(t,{A:()=>n});class n{get x(){return this.buffer[0]}set x(e){this.buffer[0]=e}get y(){return this.buffer[1]}set y(e){this.buffer[1]=e}static fromBuffer(e){var t=new n;return t.buffer=e,t}static from(e=0,t=0){var s=new n;return s.buffer=new Float32Array(2),s.x=e,s.y=t,s}set(e,t){return e instanceof n&&(t=e.y,e=e.x),this.x=e,this.y=t,this}add(e,t){return e instanceof n&&(t=e.y,e=e.x),this.x+=e,this.y+=t,this}subtract(e,t){return e instanceof n&&(t=e.y,e=e.x),this.x-=e,this.y-=t,this}divide(e){return this.x/=e,this.y/=e,this}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}collides(e,t){e instanceof n&&(t=e.y,e=e.x);var{x:s,y:i}=this;return s<-e||e<s||i<-t||t<i}reset(){return this.x=this.y=0,this}copy(e){e.x=this.x,e.y=this.y}equals(e){return e.x===this.x&&e.y===this.y}equalTo(e,t){return this.x===e&&this.y===t}clone(){return n.from(this.x,this.y)}toString(){return`{${this.x}, ${this.y}}`}toArray(){return[this.x,this.y]}hasValue(){return 0!=this.x||0!=this.y}set 0(e){this.x=e}get 0(){return this.x}set 1(e){this.y=e}get 1(){return this.y}}},24239:(e,t,s)=>{s.d(t,{L2:()=>o,Uk:()=>n,h0:()=>a,yA:()=>i});t=s(78258),s=s(87706);s.utils.skipHello();let i=new s.Application({resolution:t.A.get("gameResolution"),view:document.querySelector(".canvas"),forceCanvas:!t.A.get("useWebGL"),antialias:t.A.get("useAntialiasing"),powerPreference:"high-performance",backgroundColor:parseInt(t.A.get("backgroundColor"),16),resizeTo:window}),n=i.renderer,o=(n.clear(),e=>{i.view.style.display=e?"block":"none"}),a=s=>{["interaction","accessibility"].forEach(e=>{var t=s.renderer.plugins[e];t&&(t.destroy(),delete s.renderer.plugins[e])})};a(i),o(!1)},42555:(e,t,s)=>{s.d(t,{A:()=>n});var o=s(78258),a=s(87706);let i=e=>{var t=parseInt(o.A.get("borderColor"),16),{width:s,height:i}=e,n=new a.Graphics;return n.lineStyle(100,t,1,.5),e.circle?n.drawEllipse(s/2,i/2,s/2,i/2):n.drawRect(0,0,s,i),n.endFill(),n.pivot.set(s/2,i/2),n};class n{constructor(e,t){this.container=new a.Container,this.background=new a.Container,this.foreground=new a.Container,this.food=new a.Container,this.backgroundSprite=null,this.game=e,this.border=t,this.food.visible=o.A.get("foodVisible"),this.borderGraphic=i(t),this.background.addChild(this.borderGraphic),this.container.addChild(this.background,this.food,this.foreground),this.resetMassTextStyle(!1),this.updatePosition(),a.utils.isWebGLSupported()&&o.A.get("useWebGL")&&o.A.get("showBackgroundImage")&&this.setBackgroundImage(),this.background.position.x=t.x,this.background.position.y=t.y}updatePosition(){this.container.position.set(window.innerWidth/2,window.innerHeight/2)}sort(){var s,i;this.foreground.children.sort((e,t)=>(s=e.gameData,i=t.gameData,s.context!==i.context||s.oldSize!==i.oldSize?s.oldSize-i.oldSize:s.id-i.id))}addCell(e){this.foreground.addChild(e)}addFood(e){this.food.addChild(e)}setBackgroundImage(){var e=o.A.get("backgroundImageUrl");if(!e)return this.destroyBackgroundImage();var t=this.border,e=(o.A.get("backgroundImageRepeat")?a.TilingSprite:a.Sprite).from(e,{}),s=(e.width=t.width,e.height=t.height,e.alpha=o.A.get("backgroundImageOpacity"),e.anchor.set(.5),this.backgroundSprite);s&&(s=e.texture!==s.texture,this.destroyBackgroundImage(s)),this.backgroundSprite=e,this.background.addChildAt(e,0),t.circle&&({width:s,height:e}=t,(t=(new a.Graphics).beginFill(16777215).drawEllipse(s/2,e/2,s/2,e/2).endFill()).pivot.set(s/2,e/2),this.background.addChildAt(t,1),this.backgroundSprite.mask=t)}destroyBackgroundImage(e=!1){this.backgroundSprite&&(this.backgroundSprite.destroy({children:e,texture:e,baseTexture:e}),this.backgroundSprite=null)}toggleBackgroundImage(e){e&&!this.backgroundSprite?this.setBackgroundImage():e||this.destroyBackgroundImage(!0)}resetBorder(){this.borderGraphic.destroy(),this.borderGraphic=i(this.border),this.background.addChild(this.borderGraphic)}resetMassTextStyle(e){e&&this.uninstallMassTextFont(),a.BitmapFont.from("mass",o.A.massTextStyle,{chars:"1234567890km."});for(var t=this.game.massTextPool;t.length;)t.pop().destroy(!1);this.game.playerCells.forEach(e=>{e.massText&&(e.sprite.removeChild(e.massText),pc.massText.destroy(!1),delete e.massText)})}uninstallMassTextFont(){a.BitmapFont.uninstall("mass")}}},42749:(e,t,s)=>{s.d(t,{Tb:()=>h,WK:()=>A,lw:()=>c});var a=s(24239),i=s(78258),n=s(83439),o=s(91391),r=s(87706);class l{constructor(e){this.cache=new Map,this.size=e}reset(){this.cache.forEach(e=>e.destroy(!0)),this.cache.clear()}}let A=new class extends l{constructor(){super(i.A.cellSize),this.factoredSize=i.A.cellSize/2}get(e,t=!0){var s,i,n,o=this["cache"];return o.has(e)?o.get(e):({factoredSize:n,size:s}=this,(i=(new r.Graphics).beginFill(e).drawCircle(0,0,n).endFill()).position.set(n),n=r.RenderTexture.create({width:s,height:s}),o.set(e,n),t&&a.Uk.render(i,n),n)}},c=new class extends l{constructor(){super(i.A.cellSize),this.factoredSize=i.A.cellSize/2}get(e,t=!0){var s,i,n,o=this["cache"];return o.has(e)?o.get(e):({factoredSize:n,size:s}=this,(i=(new r.Graphics).beginFill(e).drawRect(-n,-n,2*n,2*n).endFill()).position.set(n),n=r.RenderTexture.create({width:s,height:s}),o.set(e,n),t&&a.Uk.render(i,n),n)}},h=new class{constructor(){this.texture=r.RenderTexture.create({width:200,height:200})}async load(t){if(!this.loading){this.loading=!0;try{t=t.startsWith("data:image")?t:await(0,o.D)(t);var e=await r.Texture.fromURL(t,{width:200,height:200}),s=r.Sprite.from(e);a.Uk.render(s,this.texture,!0),(0,n.$s)(0,"Loaded static virus texture")}catch(e){(0,n.$s)(1,`Failed to load static virus texture (URL="${t}")`)}delete this.loading}}get(){return this.texture}}},91391:(e,t,s)=>{s.d(t,{D:()=>i});var n=s(83439);let i=async t=>{let s;try{var i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch image (status code: ${i.status})`);s=await i.blob()}catch(e){i="string"==typeof e?e:e.message||"";return(0,n.$s)(1,`Fetching of image URL "${t}" failed`+(i?": "+i:"")),null}return new Promise(e=>{let t=new FileReader;t.addEventListener("load",()=>e(t.result),!1),t.addEventListener("error",()=>e(null)),t.readAsDataURL(s)})}},14666:()=>{try{history.pushState(null,null,location.href),window.addEventListener("popstate",()=>history.go(1))}catch(e){}},86357:(e,t,s)=>{s="object"==typeof window?window:s.g;if("performance"in s||(s.performance={}),!("now"in s.performance)||"function"!=typeof performance.now){let e=Date.now();s.performance.now=function(){return Date.now()-e}}},39031:(e,t,s)=>{s.d(t,{on:()=>i,vF:()=>r,vV:()=>n});var g=s(14098),u=s(63400),o=s(78258),a=s(83439),p=s(74444),m=s(88732),C=s(27241);let w=new Map([[m.Sq,C.ub],[m.do,C.xx],[m.rn,C.hN],[m.QG,C.Oe]]),i=(s,e,t,i,n,o,a,r,l)=>{var A=15&e,c=(o=32&e?void 0:o,a=64&e?void 0:a,p.Ab[s]),h=null;if(c.has(i))(h=c.get(i)).update(g.A.renderStamp),h.oldPosition.set(h.position),h.oldSize=h.size,null!=o&&h.newPosition.set(o,n),null!=a&&(h.newSize=a),g.A.onCellUpdated?.(s,h);else{var e=1<g.A.activeContexts?p.Ab.filter((e,t)=>t!==s):null;if(e)for(var d of e)if(d.has(i)){c.set(i,h=d.get(i));break}if(null==h){if(w.has(A)){A===m.do&&(a=A==m.do?g.A.food.ejectedSize:g.A.food.minSize+i%g.A.food.stepSize);h=new(w.get(A))(i,o,n,a,r,s)}else if(A===m.xV)void 0===a&&(a=g.A.food.minSize+i%g.A.food.stepSize),void 0===o&&(o=(e=g.A.border).minx+a+(e.width-2*a)*g.A.getRandomSeed(65536+i),n=e.miny+a+(e.height-2*a)*g.A.getRandomSeed(131072+i)),h=new C.No(i,o,n,a,r,s);else if(A==m.g4){e=g.A.playerManager.get(t);if(!e)return 0;h=new C.kF(i,o,n,a,r,e,s)}else if(A==m.hH)(h=new C.hN(i,o,n,a,r,s)).sprite.alpha=1;else{let e=4210752,t=!0;1<r&&(e=0,128&r&&(e|=7340032),64&r&&(e|=28672),32&r&&(e|=112),16&r)&&(t=!1),h=new C.hN(i,o,n,a,r,s,t,e)}g.A.scene[1&r?"addFood":"addCell"](h.sprite),g.A.onCellAdded?.(s,h),c.set(i,h)}h.shared.add(s)}return h.updateStamps[s]=g.A.renderStamp,1==A&&h.pid===u.A.pids[s]?1:0},n=(e,s)=>{if(p.Ab[e].has(s)){let t=null;p.Ab.forEach(e=>{e.has(s)&&(t=e.get(s))}),t.shared.migrate(e)||(g.A.onCellRemoved?.(e,t),t.destroy())}},r=(e,t,s)=>{let i=null,n=null;p.Ab.forEach(e=>{e.has(t)&&(i=e.get(t)),e.has(s)&&(n=e.get(s))}),null!=i&&0!=i.shared.size&&(i.shared.clear(),null==n?i.destroy():(g.A.onCellEaten?.(e,i,n),i.update(i.updateStamps[e]=g.A.renderStamp),i.destroy(u.A.rendering&&o.A.get("eatAnimation")),i.newPosition.set(n.newPosition),i.scale=(0,a.N)(i.newSize/n.newSize,0,1),i.newSize=0))}},26172:(e,t,s)=>{s.d(t,{f:()=>a});var i=s(26814),n=s(39031);new Array(1).fill("Hello there, script-kiddie. Looking for anything?");let o=new class{async init(){if(this.initializing||null!=this.instance)return!1;this.initializing=!0;var e=await fetch("data:application/wasm;base64,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"),t={env:{addOrUpdate:n.on,destroy:n.vV,eat:n.vF,emscripten_notify_memory_growth:e=>{},console_log:console.log.bind(null)}};return this.instance=await WebAssembly.instantiate(await WebAssembly.compile(await e.arrayBuffer()),t),this.wasm=this.instance.exports,this.heap=new i.SE(this.wasm.memory.buffer),delete this.initializing,!0}parse(e,t,s){var i,n,o;return this.instance?({stop_skidding_dc_aeroaxon:i,free:n,malloc:o}=this.wasm,o=o(e.byteLength),this.heap.set(e,o),e=i(o,t,s),n(o),e):0}},a=(o.init(),(e,t)=>o.parse(new i.SE(e.buffer,1),-1,t))},97833:(e,t,s)=>{e.exports=s.p+"8a9474904a5b7dd09050.js"},42634:()=>{},71675:e=>{e.exports=JSON.parse('{"rE":"1.0.4","VY":"https://vanis.io/"}')}},i={};function h(e){var t=i[e];return void 0!==t||(t=i[e]={id:e,loaded:!1,exports:{}},s[e].call(t.exports,t,t.exports,h),t.loaded=!0),t.exports}h.m=s,A=[],h.O=(e,t,s,i)=>{if(!t){for(var n=1/0,o=0;o<A.length;o++){for(var a,[t,s,i]=A[o],r=!0,l=0;l<t.length;l++)(!1&i||i<=n)&&Object.keys(h.O).every(e=>h.O[e](t[l]))?t.splice(l--,1):(r=!1,i<n&&(n=i));r&&(A.splice(o--,1),void 0!==(a=s()))&&(e=a)}return e}i=i||0;for(var o=A.length;0<o&&A[o-1][2]>i;o--)A[o]=A[o-1];A[o]=[t,s,i]},h.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return h.d(t,{a:t}),t},h.d=(e,t)=>{for(var s in t)h.o(t,s)&&!h.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},h.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),h.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),h.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),h.p="./",h.b=document.baseURI||self.location.href,c={792:0,524:0},h.O.j=e=>0===c[e],t=(e,t)=>{var s,i,n,[o,a,r]=t,l=0;if(o.some(e=>0!==c[e])){for(s in a)h.o(a,s)&&(h.m[s]=a[s]);r&&(n=r(h))}for(e&&e(t);l<o.length;l++)i=o[l],h.o(c,i)&&c[i]&&c[i][0](),c[i]=0;return h.O(n)},(e=self.webpackChunkvanis_client=self.webpackChunkvanis_client||[]).forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e)),h.O(void 0,[121,524],()=>h(27461));var t=h.O(void 0,[121,524],()=>h(43703));h.O(t)})();